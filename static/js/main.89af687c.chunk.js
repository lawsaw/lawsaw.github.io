(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{166:function(e,t,n){},220:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},259:function(e,t,n){e.exports=n(479)},264:function(e,t,n){},310:function(e,t){},479:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(20),i=n.n(o),c=(n(264),n(89)),l=n(71),s=n(21),u=n(4),A=n(219),g=n(564),d=n(565),m=n(538),p=(n(166),n(220),function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},"About"))}),E=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},"Test"))},f=n(27),h=n(566),C=n(51),B=function(){var e=0;return function(t){return 0===t&&(e+=360),t=e+t}},b=B(),I=B(),Q=B(),v=function(){var e=new Date,t=e.getSeconds(),n=6*t,a=6*e.getMinutes()+t/60,r=30*function(e){return e>12?e-12:e}(e.getHours())+a/12;return{seconds:n=b(n),minutes:a=I(a),hours:r=Q(r)}},O=v(),w=Object(u.a)(function(e){return{clock:{position:"relative",width:300,height:300,borderRadius:"100%",backgroundColor:Object(C.lighten)(e.palette.grey[500],.5)}}})(function(e){var t=e.classes,n=Object(a.useState)(O||v()),o=Object(f.a)(n,2),i=o[0],c=o[1];return Object(a.useEffect)(function(){var e=setTimeout(function(){O=v(),c(O)},1e3);return function(){clearTimeout(e),O=null}},[i]),r.a.createElement(h.a,{className:t.clock},r.a.createElement(x,null),r.a.createElement(N,{time:i}))}),j=n(15),k=function(e){var t=Object(j.a)({},e);return r.a.createElement(R,Object.assign({width:140,height:5},t))},y=function(e){var t=Object(j.a)({},e);return r.a.createElement(R,Object.assign({width:120,height:8},t))},S=function(e){var t=Object(j.a)({},e);return r.a.createElement(R,Object.assign({width:100,height:12},t))},N=Object(u.a)(function(e){return{arrows:{position:"absolute",left:0,right:0,top:0,bottom:0},center:{border:"1px solid ".concat(Object(C.darken)(e.palette.grey[300],.1)),width:20,height:20,backgroundColor:Object(C.lighten)(e.palette.grey[800],.8),position:"absolute",left:0,right:0,top:0,bottom:0,margin:"auto",zIndex:1,borderRadius:"100%"}}})(function(e){var t=e.classes,n=e.time,a=n.seconds,o=n.minutes,i=n.hours;return r.a.createElement(h.a,{className:t.arrows},r.a.createElement(h.a,{className:t.center}),r.a.createElement(D,null,r.a.createElement(S,{deg:i})),r.a.createElement(D,null,r.a.createElement(y,{deg:o})),r.a.createElement(D,null,r.a.createElement(k,{deg:a})))}),R=Object(u.a)(function(e){return{arrow:{position:"relative",backgroundColor:Object(C.lighten)(e.palette.grey[800],.8),borderBottom:"1px solid ".concat(Object(C.darken)(e.palette.grey[300],.1)),width:function(e){return e.width||140},height:function(e){return e.height||10},transformOrigin:"left center",left:"50%",transform:function(e){return"rotateZ(".concat(e.deg,"deg)")}}}})(function(e){var t=e.classes;return r.a.createElement(h.a,{className:t.arrow})}),D=Object(u.a)(function(){return{point:{position:"absolute",width:20,height:20,transformOrigin:"center center",top:"50%",left:"50%",transform:"translate3d(-50%, -50%, 0) rotateZ(-90deg)",display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"center",borderRadius:"100%"}}})(function(e){var t=e.classes,n=e.children;return r.a.createElement(h.a,{className:t.point},n)}),x=Object(u.a)(function(){return{faces:{position:"absolute",width:"calc(70% + 5px)",height:"calc(70% + 5px)",margin:"auto",left:0,right:0,top:0,bottom:0}}})(function(e){var t=e.classes,n=Object(s.a)(e,["classes"]);return r.a.createElement(h.a,{className:t.faces},Array.from({length:60},function(e,t){var a=6*(t+1);return r.a.createElement(H,Object.assign({key:t,pos:a,value:t+1},n))}))}),G=n(28),T=n.n(G),H=Object(u.a)(function(){return{face:{position:"absolute",transform:function(e){return"rotateZ(".concat(e.pos+45,"deg)")},left:0,right:0,top:0,bottom:0,transformOrigin:"center center"},content:{position:"relative",display:"block",transformOrigin:"bottom center",transform:"translateX(-50%) rotateZ(-45deg)"},content_num:{fontSize:12,backgroundColor:"#000",width:3,left:15,height:15},content_stick:{backgroundColor:"grey",width:3,left:6,height:6},value:{fontSize:16,position:"absolute",transformOrigin:"center center",transform:"translateX(-50%) translateY(calc(-100% - 5px))"},valueContent:{position:"relative",transformOrigin:"center center",transform:function(e){return"rotateZ(".concat(-e.pos,"deg)")}}}})(function(e){var t=e.classes,n=e.value,a=n%5===0;return r.a.createElement(h.a,{className:t.face},r.a.createElement(h.a,{className:T()(t.content,a?t.content_num:t.content_stick)},a&&r.a.createElement(h.a,{className:t.value},r.a.createElement(h.a,{className:t.valueContent},n/5))))}),M=n(18),P=n(11),L=n(29),Y=n(40),U=n(31),F={idCurrent:"root",type:"col",grid:[{content:"Some Content"},{content:54855},{type:"row",grid:[{content:34},{type:"col",grid:[{type:"row",grid:[{content:"11"},{content:"22"},{content:"33"},{content:"44"}]},{content:2}]},{content:24}]},{content:4112}]},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=Object(U.a)({},e);switch(t.type){case"ADD":var a=t.payload,o=a.idCurrent,i=a.index,c=a.type,l=n[o];if(c===l.type){var s=l.data[i].content,u=l.data[i].element;l.data.splice(i,0,{content:"DEFAULT",element:r.a.createRef()}),l.data[i+1].content=s,l.data[i+1].element=u,l.data=ce.getDefaultSize(o,l.data)}else{var A=l.data[i].content,g=[{content:"DEFAULT_CONTENT",element:r.a.createRef()},{content:A,element:r.a.createRef()}];delete l.data[i].content,l.data[i].grid=g,l.data[i].type=c,l.data=ce.refresh(l.data)}return n;case"DELETE":var d=t.payload,m=d.idCurrent,p=d.idParent,E=d.idGrandParent,f=n[p].data.length,h=function(){n[p].data=ce.getDefaultSize(p,n[p].data.filter(function(e){return e.idCurrent!==m})),E&&n[E].data[0].grid&&(n[E].data[0].grid=n[p].data.map(function(e){return{content:e.content}}))};if(f>2)h();else if(2===f){var C=n[p].data.find(function(e){return e.idCurrent!==m});if(E&&n[E]){var B=n[E].data.find(function(e){return e.idCurrent===p}),b=n[E].data.findIndex(function(e){return e.idCurrent===p});if(C.grid&&!C.content){var I,Q=C.idCurrent,v=n[Q].data.map(function(e){return{content:e.content,grid:e.grid}});(I=n[E].data).splice.apply(I,[b,1].concat(Object(Y.a)(v))),n[E].data=ce.getDefaultSize(E,n[E].data),delete n[Q]}else delete B.grid,B.content=C.content;delete n[p]}else h()}return n;case"UPDATE":var O=t.payload,w=O.data,j=O.type,k=O.idCurrent,y=O.idParent;return n[k]={type:j,data:w,idParent:y},n;default:return e}},W=Object(L.b)({cascade:z}),K=Object(L.c)(W),_=Object(u.a)(function(e){return{dashboard:{position:"absolute",left:10,right:10,top:26,bottom:10,backgroundColor:Object(P.i)(e.palette.grey[500],.8)}}})(function(e){var t=e.classes;return r.a.createElement(M.a,{store:K},r.a.createElement(h.a,{className:t.dashboard},r.a.createElement(ne,F)))}),J=n(534),V=n(239),q=n(537),Z=n(229),X=n.n(Z),$=Object(u.a)(function(){return{toolbar:{position:"relative",zIndex:1}}})(function(e){var t=e.classes,n=e.index,a=e.idCurrent,o=e.addSection,i=e.deleteSection,c=r.a.useState(null),l=Object(f.a)(c,2),s=l[0],u=l[1],A=Boolean(s);function g(e,t){e(n,a,t),u(null)}return r.a.createElement(h.a,{className:t.toolbar},r.a.createElement(J.a,{onClick:function(e){u(e.currentTarget)}},r.a.createElement(X.a,null)),r.a.createElement(V.a,{anchorEl:s,open:A,onClose:function(){u(null)},keepMounted:!0},r.a.createElement(q.a,{onClick:function(){return g(o,"col")}},"Col"),r.a.createElement(q.a,{onClick:function(){return g(o,"row")}},"Row"),r.a.createElement(q.a,{onClick:function(){return i(n,a),void u(null)}},"Delete")))}),ee=Object(u.a)(function(){return{window:{position:"absolute",left:0,right:0,bottom:0,top:0,padding:35}}})(function(e){var t=e.classes,n=e.children;return r.a.createElement(h.a,{className:t.window},n)}),te=Object(u.a)(function(){return{grid:{position:"absolute",left:0,right:0,bottom:0,top:0}}})(function(e){e.propData;var t=e.classes,n=e.grid,o=e.idCurrent,i=e.idParent,c=e.storeData,l=e.storeType,u=(e.storeContent,e.type),A=Object(s.a)(e,["propData","classes","grid","idCurrent","idParent","storeData","storeType","storeContent","type"]);Object(a.useEffect)(function(){A.update({data:c||ce.getDefaultSize(o,c||n),type:l||u,idCurrent:o,idParent:i})},[]);var g,d=null,m={},p=0,E=0,f=null,C=null;function B(e,t,n){A.add({idCurrent:o,idChild:t,index:e,idParent:i,type:n})}function b(e,t){A.del({index:e,idCurrent:t,idParent:o,idGrandParent:i})}function I(e,t){var n=ce.getUpdatedData(e,l,t,c,m);d!==n[e].size&&(d=n[e].size,function(e){A.update({data:e,type:l,idCurrent:o,idParent:i})}(n))}function Q(e,t){var n=ce.getSeparatorOptions(l).clientDirection;p=e[n],m=ce.getRealSize(t,c),f=function(e){return v(e)},C=function(e){return function(e,t){var n=ce.getSeparatorOptions(l).clientDirection;E=e[n],I(t,E-p)}(e,t)},document.addEventListener("mouseup",f,!1),document.addEventListener("mousemove",C,!1)}function v(e){var t=ce.getSeparatorOptions(l).clientDirection;E=e[t],document.removeEventListener("mouseup",f,!1),document.removeEventListener("mousemove",C,!1)}return r.a.createElement(h.a,{className:t.grid},c?(g=c).map(function(e,t){var n=ce.getItemSizeAccordingToType(e,l),a=n.gridItem,o=n.separator;return r.a.createElement(ae,{key:e.idCurrent,index:t,item:e,idParent:g[0].idParent,isLast:g[t+1],style:a,styleSeparator:o,addSection:B,deleteSection:b,optionsSeparator:ce.getSeparatorOptions(l),handleOnMouseDown:Q})}):"No Data LoL")}),ne=Object(M.b)(function(e,t){return{storeData:e.cascade[t.idCurrent]&&e.cascade[t.idCurrent].data,storeType:e.cascade[t.idCurrent]&&e.cascade[t.idCurrent].type,storeContent:e.cascade[t.idCurrent]&&e.cascade[t.idCurrent].content}},function(e){return{update:function(t){return e({type:"UPDATE",payload:{data:(n=t).data,type:n.type,idCurrent:n.idCurrent,idParent:n.idParent,gridItemId:n.gridItemId}});var n},add:function(t){return e({type:"ADD",payload:{idCurrent:(n=t).idCurrent,idChild:n.idChild,index:n.index,idParent:n.idParent,type:n.type}});var n},del:function(t){return e({type:"DELETE",payload:{index:(n=t).index,idCurrent:n.idCurrent,idParent:n.idParent,idGrandParent:n.idGrandParent}});var n}}},null)(te),ae=Object(u.a)(function(){return{gridItem:{position:"absolute",width:function(e){return"".concat(e.style.width)||"auto"},left:function(e){return"".concat(e.style.left)||"auto"},height:function(e){return"".concat(e.style.height)||"auto"},top:function(e){return"".concat(e.style.top)||"auto"},right:function(e){return"".concat(e.style.right)||"auto"},bottom:function(e){return"".concat(e.style.bottom)||"auto"},transition:"all 0.3s ease 0s"}}})(function(e){var t=e.classes,n=e.index,o=e.item,i=o.idCurrent,c=o.content,l=o.element,s=o.grid,u=o.type,A=e.idParent,g=e.isLast,d=e.styleSeparator,m=e.handleOnMouseDown,p=e.optionsSeparator,E=e.addSection,f=e.deleteSection,C=Boolean(s&&s.length);return r.a.createElement(a.Fragment,null,r.a.createElement(h.a,{className:t.gridItem,ref:l},!C&&r.a.createElement(a.Fragment,null,r.a.createElement($,{index:n,idCurrent:i,addSection:E,deleteSection:f})),r.a.createElement(ee,null,C?r.a.createElement(ne,{idCurrent:i,idParent:A,grid:s,type:u}):c||"No LoL")),g&&r.a.createElement(re,{index:n,style:d,options:p,handleOnMouseDown:m}))}),re=Object(u.a)(function(){return{separator:{position:"absolute",width:function(e){return"".concat(e.style.width)||"auto"},left:function(e){return"".concat(e.style.left)||"auto"},height:function(e){return"".concat(e.style.height)||"auto"},top:function(e){return"".concat(e.style.top)||"auto"},right:function(e){return"".concat(e.style.right)||"auto"},bottom:function(e){return"".concat(e.style.bottom)||"auto"},transform:function(e){return"translate3d(".concat(-e.style.width/2||0,"px, ").concat(-e.style.height/2||0,"px, 0)")},backgroundColor:"lightgreen",zIndex:5,cursor:function(e){return e.options.cursor},"&:hover":{backgroundColor:"lightblue",zIndex:6}}}})(function(e){var t=e.classes,n=e.index,a=e.handleOnMouseDown;return r.a.createElement(h.a,{className:t.separator,onMouseDown:function(e){return a(e,n)}})}),oe=n(68),ie=function(){return Math.random().toString(36).substring(2,4)+Math.random().toString(36).substring(2,4)},ce={getDefaultSize:function(e,t){var n=100/t.length;return t.map(function(t,a){var o=t.idCurrent,i=t.element,c=(t.size,t.space,t.idParent),l=Object(s.a)(t,["idCurrent","element","size","space","idParent"]);return Object(U.a)({},l,{idCurrent:o||"".concat(e,"_").concat(ie()),size:n,space:n*a,element:i||r.a.createRef(),idParent:c||e})})},generateId:ie,refresh:function(e){return e.map(function(e){var t=Object(j.a)({},e);return Object(U.a)({},t)})},getUpdatedData:function(e,t,n,r,o){var i,c,l,s,u=Object(oe.cloneDeepWith)(r,function(e){if(e&&Object(a.isValidElement)(e))return e}),A=u[e],g=A.size,d=A.space,m=u[e+1],p=m.size,E=m.space,f=o.widthPrev,h=o.heightPrev,C=o.widthNext,B=o.heightNext,b=Math.abs(n);return n<0?(c=g-(l=(l=(b=(i="col"===t?f:h)-b<50?i-50:b)*g/i)>(s=g-0)?s:l),u[e].size=c,u[e+1].size=p+l,u[e+1].space=d+c):(c=g+(l=(l=(b=(i="col"===t?C:B)-b<50?i-50:b)*p/i)>(s=p-0)?s:l),u[e].size=c,u[e+1].size=p-l,u[e+1].space=E+l),u},getRealSize:function(e,t){var n=t[e].element.current,a=t[e+1].element.current,r=n.getBoundingClientRect(),o=r.width,i=r.height,c=a.getBoundingClientRect();return{widthPrev:o,heightPrev:i,widthNext:c.width,heightNext:c.height}},getSeparatorOptions:function(e){return"col"===e?{clientDirection:"clientX",cursor:"col-resize"}:{clientDirection:"clientY",cursor:"row-resize"}},getItemSizeAccordingToType:function(e,t){var n=e.size,a=e.space;return"col"===t?{gridItem:{width:"".concat(n,"%"),height:"auto",left:"".concat(a,"%"),right:"auto",top:0,bottom:0},separator:{width:"10px",height:"auto",left:"".concat(n+a,"%"),right:"auto",top:0,bottom:0}}:{gridItem:{width:"auto",height:"".concat(n,"%"),left:0,right:0,top:"".concat(a,"%"),bottom:"auto"},separator:{width:"auto",height:"10px",left:0,right:0,top:"".concat(n+a,"%"),bottom:"auto"}}}},le=function(){return Math.random().toString(36).substring(2,4)+Math.random().toString(36).substring(2,4)},se=[{id:"fdsfasdf",title:"Make this",description:"Do it right now",isDone:!1},{id:"fdsf688afsd",title:"Make this 2",description:"Do it right now 2",isDone:!0}],ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD":var n=t.payload,a=n.title,r=n.description,o={id:le(),title:a,description:r,isDone:!1};return[].concat(Object(Y.a)(e),[o]);case"DELETE":var i=t.payload.id;return e.filter(function(e){return e.id!==i});case"UPDATE":var c=t.payload,l=c.id,s=c.field,u=c.value,A=Object(Y.a)(e);return A.find(function(e){return e.id===l})[s]=u,A;case"DONE":var g=t.payload,d=g.id,m=g.status,p=Object(Y.a)(e);return p.find(function(e){return e.id===d}).isDone=m,p;default:return e}},Ae=Object(L.b)({list:ue}),ge=Object(L.c)(Ae),de=Object(u.a)(function(){return{todoList:{position:"absolute",left:0,top:15,right:0,bottom:0,backgroundColor:"#f5f5f5",padding:10}}})(function(e){var t=e.classes;return r.a.createElement(M.a,{store:ge},r.a.createElement(h.a,{className:t.todoList},r.a.createElement(Ce,null)))}),me=n(80),pe=function(e){return r.a.createElement(me.a,{component:"h3",variant:"h3",className:e.className},e.children)},Ee=function(e){var t=e.classes,n=Object(s.a)(e,["classes"]);return r.a.createElement(m.a,{item:!0,className:t.section},r.a.createElement(pe,{className:t.title},n.header),r.a.createElement(ke,{data:n.data,update:n.update,done:n.done,del:n.del}))},fe=function(e){var t=e.classes,n=Object(s.a)(e,["classes"]);return r.a.createElement(m.a,{container:!0,spacing:2,justify:"space-between",wrap:"nowrap",className:t.bord},r.a.createElement(Ee,Object.assign({header:"In process",data:n.listToDo,classes:t},n)),r.a.createElement(Ee,Object.assign({header:"Done",data:n.listDone,classes:t},n)))},he=Object(u.a)(function(e){return{wrap:{margin:0,height:"100%"},wrapHeader:{},wrapBody:{flexGrow:1},header:{},body:{},bord:{position:"relative",width:"100%",height:"100%",margin:0},title:{marginBottom:15},section:{position:"relative",flexBasis:"50%"}}})(function(e){var t=e.classes,n=e.list,a=Object(s.a)(e,["classes","list"]),o=n.filter(function(e){return!0!==e.isDone}),i=n.filter(function(e){return!0===e.isDone});return r.a.createElement(m.a,{container:!0,spacing:2,direction:"column",justify:"flex-start",wrap:"nowrap",className:t.wrap},r.a.createElement(m.a,{item:!0,className:t.wrapHeader},r.a.createElement(Te,{total:n.length,todo:o.length,done:i.length,add:a.add})),r.a.createElement(m.a,{item:!0,className:t.wrapBody},r.a.createElement(fe,{classes:t,listToDo:o,listDone:i,update:a.update,done:a.setDoneStatus,del:a.del})))}),Ce=Object(M.b)(function(e,t){return{list:e.list}},function(e){return{update:function(t){return e({type:"UPDATE",payload:{id:(n=t).id,field:n.field,value:n.value}});var n},add:function(t){return e({type:"ADD",payload:{title:(n=t).title,description:n.description}});var n},del:function(t){return e({type:"DELETE",payload:{id:t.id}})},setDoneStatus:function(t){return e({type:"DONE",payload:{id:(n=t).id,status:n.status}});var n}}},null)(he),Be=n(539),be=n(541),Ie=n(540),Qe=n(542),ve=n(567),Oe=function(e){var t=e.value,n=e.label,a=e.isEditable,o=e.toggleEditMode,i=e.onBlur,c=e.onChange,l=e.typographyProps;return a?r.a.createElement(ve.a,{label:n,value:t,onChange:c,margin:"normal",variant:"outlined",onBlur:i,autoFocus:!0}):r.a.createElement(me.a,Object.assign({},l,{onDoubleClick:o}),t)},we=Object(u.a)(function(){return{card:{maxWidth:345},media:{height:140}}})(function(e){var t=e.classes,n=e.id,o=e.title,i=e.description,c=e.isDone,l=e.update,u=e.done,A=e.del,g=(Object(s.a)(e,["classes","id","title","description","isDone","update","done","del"]),Object(a.useState)(!1)),d=Object(f.a)(g,2),m=d[0],p=d[1],E=Object(a.useState)(!1),h=Object(f.a)(E,2),C=h[0],B=h[1];function b(){p(!1),B(!1)}function I(e){return function(t){if(t.target&&t.target.value){var a=t.target.value;l({id:n,field:e,value:a})}}}return r.a.createElement(Be.a,{className:t.card},r.a.createElement(Ie.a,null,r.a.createElement(Oe,{value:o,label:"Title",isEditable:m,toggleEditMode:function(){p(!m)},onBlur:b,onChange:I("title"),typographyProps:{gutterBottom:!0,variant:"h5",component:"p"}}),r.a.createElement(Oe,{value:i,label:"Description",isEditable:C,toggleEditMode:function(){B(!C)},onBlur:b,onChange:I("description"),typographyProps:{variant:"body2",color:"textSecondary",component:"p"}})),r.a.createElement(be.a,null,r.a.createElement(Qe.a,{size:"small",color:"primary",onClick:function(){u({id:n,status:!c})}},c?"UnDone":"Done"),r.a.createElement(Qe.a,{size:"small",color:"primary",onClick:function(){A({id:n})}},"Delete")))}),je=n(160),ke=Object(u.a)(function(){return{grid:{position:"relative"},empty:{padding:10,width:"100%"}}})(function(e){var t=e.classes,n=e.data,a=e.update,o=e.done,i=e.del;return r.a.createElement(m.a,{container:!0,spacing:2,className:t.grid},n&&n.length?n.map(function(e){var t=e.id,n=e.isDone,c=e.title,l=e.description;return r.a.createElement(m.a,{key:t,item:!0},r.a.createElement(we,{isDone:n,id:t,title:c,description:l,update:a,done:o,del:i}))}):r.a.createElement(je.a,{className:t.empty},r.a.createElement(me.a,{component:"p"},"There is no data")))}),ye=n(543),Se=n(544),Ne=n(546),Re=n(231),De=n.n(Re),xe=n(545),Ge=[{label:"Total",value:"total"},{label:"In process",value:"todo"},{label:"Done",value:"done"}],Te=Object(u.a)(function(){return{bar:{position:"relative"},title:{flexGrow:1},margin:{marginLeft:20}}})(function(e){var t=e.classes,n=Object(s.a)(e,["classes"]),o=Object(a.useState)(!1),i=Object(f.a)(o,2),c=i[0],l=i[1];return r.a.createElement(a.Fragment,null,r.a.createElement(ye.a,{position:"static",className:t.bar},r.a.createElement(Se.a,null,r.a.createElement(xe.a,{size:"medium",color:"secondary","aria-label":"add",onClick:function(){l(!0)}},r.a.createElement(De.a,null)),r.a.createElement(me.a,{variant:"h6",className:T()(t.title,t.margin)},"To do list"),Ge.map(function(e,a){var o=e.label,i=e.value;return r.a.createElement(Ne.a,{key:a,className:t.margin,badgeContent:"".concat(n[i]),color:"secondary"},o)}))),r.a.createElement(Ye,{isOpen:c,onClose:function(){l(!1)},add:n.add}))}),He=n(572),Me=n(549),Pe=n(548),Le=n(547),Ye=Object(u.a)(function(){return{}})(function(e){e.classes;var t=e.isOpen,n=e.onClose,o=e.add,i=Object(a.useState)(""),c=Object(f.a)(i,2),l=c[0],s=c[1],u=Object(a.useState)(""),A=Object(f.a)(u,2),g=A[0],d=A[1];return r.a.createElement(He.a,{onClose:n,open:t},r.a.createElement(Le.a,{id:"simple-dialog-title"},"Adding new task"),r.a.createElement(Pe.a,null,r.a.createElement(ve.a,{autoFocus:!0,margin:"dense",label:"Title",fullWidth:!0,value:l,onChange:function(e){var t=e.target.value;s(t)}})),r.a.createElement(Pe.a,null,r.a.createElement(ve.a,{margin:"dense",label:"Description",fullWidth:!0,value:g,onChange:function(e){var t=e.target.value;d(t)}})),r.a.createElement(Me.a,null,r.a.createElement(Qe.a,{color:"primary",onClick:function(){o({title:l,description:g}),s(""),d(""),n()}},"Add"),r.a.createElement(Qe.a,{color:"primary",onClick:n},"Cancel")))}),Ue=n(7),Fe=n(6),ze=n(9),We=n(8),Ke=n(10),_e=n(56),Je=[{id:"fdsfasdf",title:"Make this",description:"Do it right now",isDone:!1},{id:"fdsf688afsd",title:"Make this 2",description:"Do it right now 2",isDone:!0}],Ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je;switch((arguments.length>1?arguments[1]:void 0).type){case"ADD":case"DELETE":case"UPDATE":case"DONE":default:return e}},qe=Object(L.b)({list:Ve}),Ze=Object(L.c)(qe),Xe=function(e){function t(e){var n;return Object(Ue.a)(this,t),(n=Object(ze.a)(this,Object(We.a)(t).call(this,e))).onGameModeChange=function(e){n.setState(function(){return{gameMode:e}})},n.state={gameMode:"multi"},n}return Object(Ke.a)(t,e),Object(Fe.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=this.state.gameMode;return r.a.createElement(M.a,{store:Ze},r.a.createElement(_e.SnackbarProvider,{maxSnack:3,anchorOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement(m.a,{container:!0,direction:"column",className:e.wrap},r.a.createElement(m.a,{item:!0,className:e.wrapHeader},r.a.createElement(Yt,{gameMode:t,onGameModeChange:this.onGameModeChange})),r.a.createElement(m.a,{item:!0,container:!0,justify:"center",alignItems:"center",className:e.wrapWork},"single"===t?r.a.createElement(pt,null):r.a.createElement(Dt,null)))))}}]),t}(a.PureComponent),$e=Object(u.a)(function(){return{wrap:{height:"100%"},wrapHeader:{flexShrink:0},wrapWork:{flexGrow:1}}})(Xe),et=n(536),tt=n(483),nt=4,at=20+nt,rt=10,ot=500,it=10,ct=2,lt=[0,rt/2-1],st=["up","right","down","left"],ut={T:{up:[[0,1,0],[1,1,1]],down:[[1,1,1],[0,1,0]],left:[[0,1],[1,1],[0,1]],right:[[1,0],[1,1],[1,0]]},Z:{up:[[0,1],[1,1],[1,0]],down:[[0,1],[1,1],[1,0]],left:[[1,1,0],[0,1,1]],right:[[1,1,0],[0,1,1]]},S:{up:[[1,0],[1,1],[0,1]],down:[[1,0],[1,1],[0,1]],left:[[0,1,1],[1,1,0]],right:[[0,1,1],[1,1,0]]},Q:{up:[[1,1],[1,1]],down:[[1,1],[1,1]],left:[[1,1],[1,1]],right:[[1,1],[1,1]]},J:{up:[[1,1],[1,0],[1,0]],down:[[0,1],[0,1],[1,1]],left:[[1,0,0],[1,1,1]],right:[[1,1,1],[0,0,1]]},L:{up:[[1,1],[0,1],[0,1]],down:[[1,0],[1,0],[1,1]],left:[[1,1,1],[1,0,0]],right:[[0,0,1],[1,1,1]]},I:{up:[[1],[1],[1],[1]],down:[[1],[1],[1],[1]],left:[[1,1,1,1]],right:[[1,1,1,1]]}};function At(e,t){return Array.from({length:t},function(){return Array.from({length:e},function(){return 0})})}function gt(e,t,n){var a=Object(f.a)(n,2),r=a[0],o=a[1],i=Object(oe.cloneDeep)(t);return i.map(function(t,n){return n===r&&e.forEach(function(e,t){var a;(a=i[n+t]).splice.apply(a,[o,e.length].concat(Object(Y.a)(e))).forEach(function(e,a){0!==e&&(i[n+t][o+a]=1)})}),t.map(function(e){return e})})}function dt(e){var t=[[0,0,1,0,0,0,0,1,0,0],[0,1,1,1,0,0,1,1,1,0],[0,0,1,0,0,0,0,1,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,1,0,0,0,0,1,0,0],[0,0,0,1,0,0,1,0,0,0],[0,0,0,0,1,1,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0]];return gt(t,e,[e.length-t.length,0])}var mt=function(e){function t(e){var n;return Object(Ue.a)(this,t),(n=Object(ze.a)(this,Object(We.a)(t).call(this,e))).setOnlineCallbacks=function(){var e=n.props,t=e.handleStartNewGameCallback,a=e.handlePauseCallback,r=e.handleContinueCallback,o=e.handleEndGameCallback;t(function(e){return n.handleStartNewGame(e)}),a(function(e){return n.handlePause(e)}),r(function(e){return n.handleContinue(e)}),o(function(e){return n.handleEndGame(e)})},n.getRandomFigure=function(){var e=Object.keys(ut),t=Math.ceil(Math.random()*(e.length-1));return ut[e[t]]},n.getRandomRotation=function(){var e=Math.ceil(Math.random()*(st.length-1));return st[e]},n.startGame=function(){var e=n.state.speed;n.timer=setInterval(function(){n.moveFigure("down")},e)},n.resetSpeed=function(){clearInterval(n.timer),n.startGame()},n.getNextRotationPosition=function(e){var t=st.length,n=st.indexOf(e);return n===t-1?st[0]:st[n+1]},n.getPrevRotationPosition=function(e){var t=st.length,n=st.indexOf(e);return 0===n?st[t-1]:st[n-1]},n.isFigureCloseToLeft=function(){return n.state.position[1]-1>=0},n.isFigureCloseToRight=function(e){var t=n.state,a=t.position,r=t.table,o=t.figure;return a[1]<r[0].length-o[e][0].length},n.getFigureOutsideSpace=function(e){var t=n.state,a=t.position,r=t.table,o=t.figure,i=a[1];return r[0].length-(i+o[e][0].length)},n.getFigureRotatePosition=function(e){var t=Object(f.a)(n.state.position,2),a=t[0],r=t[1],o=n.getFigureOutsideSpace(e);return o<0?[a,r+o]:[a,r]},n.rotateFigure=function(e){var t=e(n.state.rotation),a=n.getMoveStep(null,n.getFigureRotatePosition(t));n.hasFigureRightToRotate(t,a)&&n.setState(function(){return{position:a,rotation:t}})},n.getMoveStep=function(e,t){var n=Object(f.a)(t,2),a=n[0],r=n[1];switch(e){case"down":a+=1;break;case"left":r-=1;break;case"right":r+=1}return[a,r]},n.moveFigure=function(e){var t=n.props.onGameOnline,a=n.state.position,r=n.getMoveStep(e,a);n.hasFigureRightToMove(e,r)&&n.setState(function(){return{position:r}}),"down"!==e||n.hasFigureRightToMove("down",r)||(n.isEndGame()?n.handleEndGame("undefined"!==typeof t):n.handleLastStepDown())},n.isEndGame=function(){return n.state.table[nt-1].find(function(e){return 1===e})},n.handleEndGame=function(e){if(e){var t=n.props.onGameOnline;t&&t({action:"handleEndGame"})}clearInterval(n.timer),n.handleResultModalOpen(),n.setState(function(){return{isGameRunning:!1,speed:ot}})},n.handleEndGameOnline=function(){n.handleEndGame(!0)},n.handleResultModalOpen=function(){n.setState(function(){return{isResultModalOpen:!0}})},n.handleResultModalClose=function(e){var t=n.props.onBackToLobby;n.setState(function(){return{isResultModalOpen:!1}}),t&&"lobby"===e&&t()},n.handleStartNewGame=function(e){if(e){var t=n.props.onGameOnline;t&&t({action:"handleStartNewGame"})}n.setState(function(){return{isResultModalOpen:!1,table:At(rt,at),figure:n.getRandomFigure(),figureNext:n.getRandomFigure(),position:lt,rotation:n.getRandomRotation(),rotationNext:n.getRandomRotation(),score:0,isPause:!1,isGameRunning:!0,speed:ot}}),n.startGame()},n.handleStartNewGameOnline=function(){n.handleStartNewGame(!0)},n.handleLastStepDown=function(){var e=n.props.onGameOnline,t=n.state,a=t.figure,r=t.rotation,o=t.table,i=t.position,c=t.figureNext,l=t.rotationNext,s=t.score,u=t.speed,A=gt(a[r],o,i),g=n.getAllFullRowsIndexes(A),d=s+g.length,m=u;g.length&&(A=n.cleanTableFromFullRows(A,g),m=n.getScoreOptimalSpeed(d)),n.setState(function(){return{table:A,figure:c,figureNext:n.getRandomFigure(),position:lt,rotation:l,rotationNext:n.getRandomRotation(),score:d,speed:e?u:m}}),e&&e({score:d,speed:m}),n.resetSpeed()},n.getScoreOptimalSpeed=function(e){for(var t=n.props.onGameOnline,a=n.state.speed,r=1;r<a;r++)e>=ct*r&&e<ct*r+ct&&a!==ot-r*it&&(a-=it,n.props.enqueueSnackbar(t?"You made ".concat(n.props.user.opponent.nickname,"'s speed ").concat(a,"ms!"):"Speed is now ".concat(a,"ms!"),{variant:"info",autoHideDuration:1500}));return a},n.cleanTableFromFullRows=function(e,t){var n=Array.from({length:rt},function(){return 0}),a=Object(oe.cloneDeep)(e);return t.forEach(function(e,t,r){var o=a.slice(0,e),i=a.slice(r[t]+1,a.length);a=[n].concat(Object(Y.a)(o),Object(Y.a)(i))}),a},n.getFigureFullGrid=function(){var e=n.state,t=e.figure,a=e.rotation,r=e.position,o=t[a].length,i=t[a][0].length,c=o>i?o:i,l=Array.from({length:c},function(){return Array.from({length:c},function(){return 1})});return n.getFigureMap(l,null,r)},n.handleKeyPress=function(e){var t=e.code,a=n.state,r=a.rotation,o=a.isPause,i=a.isGameRunning;if(!o||!i)switch(t){case"ArrowUp":n.rotateFigure(n.getPrevRotationPosition);break;case"ArrowDown":n.rotateFigure(n.getNextRotationPosition);break;case"ArrowLeft":n.isFigureCloseToLeft(r)&&n.moveFigure("left");break;case"ArrowRight":n.isFigureCloseToRight(r)&&n.moveFigure("right");break;case"Space":n.moveFigure("down")}},n.getFigureMap=function(e,t,n){return gt(e,At(rt,at),n)},n.hasTablesConflict=function(e,t){return!e.find(function(e,n){return e.find(function(e,a){return e===t[n][a]&&1===e})})},n.hasFigureRightToMove=function(e,t){var a=n.state,r=a.figure,o=a.table,i=a.rotation;if(!n.isPositionInArea(i,t))return!1;var c=n.getFigureMap(r[i],e,t);return n.hasTablesConflict(o,c)},n.hasFigureRightToRotate=function(e,t){var a=n.state.table;if(!n.isPositionInArea(e,t))return!1;var r=n.getFigureFullGrid();return n.hasTablesConflict(a,r)},n.getAllFullRowsIndexes=function(e){return e.reduce(function(e,t,n){return t.reduce(function(e,t){return e+t})===rt&&e.push(n),e},[])},n.isPositionInArea=function(e,t){var a=Object(f.a)(t,2),r=a[0],o=a[1],i=n.state.figure,c=r+i[e].length,l=o+i[e][0].length;return c<=at&&l<=rt},n.handlePause=function(e){if(e){var t=n.props.onGameOnline;t&&t({action:"handlePause"})}n.setState(function(){return{isPause:!0}}),clearInterval(n.timer)},n.handlePauseOnline=function(){n.handlePause(!0)},n.handleContinue=function(e){if(e){var t=n.props.onGameOnline;t&&t({action:"handleContinue"})}n.setState(function(){return{isPause:!1}}),n.startGame()},n.handleContinueOnline=function(){n.handleContinue(!0)},n.timer=null,n.state={table:dt(At(rt,at)),rotation:n.getRandomRotation(),rotationNext:n.getRandomRotation(),figure:n.getRandomFigure(),figureNext:n.getRandomFigure(),position:lt,speed:ot,score:0,isPause:!0,isGameRunning:!1,isResultModalOpen:!1},n}return Object(Ke.a)(t,e),Object(Fe.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyPress),this.props.onGameOnline&&this.setOnlineCallbacks()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyPress)}},{key:"componentDidUpdate",value:function(e,t,n){var a=this;this.props.onGameOnline&&this.props.user.speed&&this.props.user.speed<this.state.speed&&(this.setState(function(){return{speed:a.props.user.speed}}),this.props.enqueueSnackbar("".concat(this.props.user.opponent.nickname," has increased your speed. It's now ").concat(this.props.user.speed,"ms!"),{variant:"info",autoHideDuration:1500}))}},{key:"render",value:function(){var e=this.props,t=e.onGameOnline,n=e.user,o=this.state,i=o.table,c=o.figure,l=o.rotation,s=o.position,u=o.figureNext,A=o.rotationNext,g=o.score,d=o.isPause,p=o.isResultModalOpen,E=o.isGameRunning,f=c?gt(c[l],i,s):i;return r.a.createElement(a.Fragment,null,r.a.createElement(m.a,{container:!0,justify:"center",spacing:5},r.a.createElement(m.a,{item:!0},r.a.createElement(Lt,{table:f,onGameOnline:t})),r.a.createElement(m.a,{item:!0},(E||t)&&r.a.createElement(en,{table:u[A],onGameOnline:t}),r.a.createElement(Mt,{value:g}),r.a.createElement(et.a,null,!E&&r.a.createElement(tt.a,null,r.a.createElement(Qe.a,{color:"primary",variant:"contained",onClick:E?this.handleStartNewGameOnline:this.handleStartNewGame},"Start New Game")),E&&!d&&r.a.createElement(tt.a,null,r.a.createElement(Qe.a,{color:"secondary",variant:"contained",onClick:E?this.handlePauseOnline:this.handlePause},"Pause")),E&&d&&r.a.createElement(tt.a,null,r.a.createElement(Qe.a,{color:"secondary",variant:"contained",onClick:E?this.handleContinueOnline:this.handleContinue},"Continue")),E&&r.a.createElement(tt.a,null,r.a.createElement(Qe.a,{color:"primary",variant:"contained",onClick:E?this.handleEndGameOnline:this.handleEndGame},"Stop Game"))))),r.a.createElement(vt,{isOpen:p,onClose:this.handleResultModalClose,user:n,score:g}))}}]),t}(a.PureComponent),pt=Object(_e.withSnackbar)(Object(u.a)(function(){return{}})(mt)),Et=function(e){function t(e){var n;return Object(Ue.a)(this,t),(n=Object(ze.a)(this,Object(We.a)(t).call(this,e))).memoTable=n.props.table,n}return Object(Ke.a)(t,e),Object(Fe.a)(t,[{key:"shouldComponentUpdate",value:function(e,t,n){return!Object(oe.isEqual)(e.table,this.props.table)}},{key:"componentDidUpdate",value:function(e,t,n){var a=this.props,r=a.onGameOnline,o=a.isPreview;if(r){var i={};o?i.preview=this.memoTable:i.table=this.memoTable,r(i)}}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.table,a=e.isPreview;return this.memoTable=n&&n.length?n:this.memoTable,r.a.createElement(h.a,{className:t.grid},this.memoTable?this.memoTable.map(function(e,n){return r.a.createElement(h.a,{key:n,className:T()(t.row,!a&&n<nt&&t.hidden)},e.map(function(e,n){return r.a.createElement(h.a,{key:n,className:T()(t.col,1===e&&t.square)})}))}):"no table")}}]),t}(a.Component),ft=Object(u.a)(function(){return{grid:{position:"relative"},row:{display:"flex",flexDirection:"row",alignItems:"flex-start",justifyContent:"flex-start",flexWrap:"nowrap"},col:{width:26,height:26,margin:0,border:"1px solid lightgrey",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",flexWrap:"nowrap"},square:{backgroundColor:"grey"},hidden:{opacity:0}}})(Et),ht=n(550),Ct=n(554),Bt=n(553),bt=n(551),It=n(552),Qt=function(e){function t(){var e,n;Object(Ue.a)(this,t);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return(n=Object(ze.a)(this,(e=Object(We.a)(t)).call.apply(e,[this].concat(i)))).renderResultSingle=function(){var e=n.props,t=e.classes,o=e.score,i=e.onClose;return r.a.createElement(a.Fragment,null,r.a.createElement(Le.a,null,r.a.createElement(ht.a,{className:t.table},r.a.createElement(bt.a,null,r.a.createElement(It.a,null,r.a.createElement(Bt.a,null,"Your score is"),r.a.createElement(Bt.a,null,o))))),r.a.createElement(Me.a,null,r.a.createElement(Qe.a,{color:"primary",variant:"contained",onClick:i},"Close")))},n.handleBack=function(e){var t=n.props.onClose;return function(){return t(e)}},n.renderResultOnline=function(){var e=n.props,t=e.classes,o=e.score,i=e.user,c=i.nickname,l=i.opponent,s=l.score,u=l.nickname;return r.a.createElement(a.Fragment,null,r.a.createElement(Le.a,null,r.a.createElement(h.a,null,r.a.createElement(h.a,{component:"h4"},o<s?r.a.createElement(a.Fragment,null,"You lost!"):o>s?r.a.createElement(a.Fragment,null,"You won!"):r.a.createElement(a.Fragment,null,"The friendship won!")),r.a.createElement(ht.a,{className:t.table},r.a.createElement(bt.a,null,r.a.createElement(It.a,null,r.a.createElement(Bt.a,null,c),r.a.createElement(Bt.a,{align:"right"},u))),r.a.createElement(Ct.a,null,r.a.createElement(It.a,null,r.a.createElement(Bt.a,null,o),r.a.createElement(Bt.a,{align:"right"},s)))))),r.a.createElement(Me.a,null,r.a.createElement(Qe.a,{color:"primary",variant:"contained",onClick:n.handleBack("replay")},"Start new game with ",u),r.a.createElement(Qe.a,{color:"primary",variant:"contained",onClick:n.handleBack("lobby")},"Back to Lobby")))},n}return Object(Ke.a)(t,e),Object(Fe.a)(t,[{key:"render",value:function(){var e=this.props,t=e.user,n=e.isOpen,a=e.onClose;return r.a.createElement(He.a,{onClose:a,open:n},t?this.renderResultOnline():this.renderResultSingle())}}]),t}(a.PureComponent),vt=Object(u.a)(function(){return{table:{width:300}}})(Qt),Ot=n(126),wt=n.n(Ot),jt="SERVER",kt="PLAYER UPDATE",yt="HOST FIND",St="GAME",Nt="LEAVE SESSION",Rt=function(e){function t(e){var n;return Object(Ue.a)(this,t),(n=Object(ze.a)(this,Object(We.a)(t).call(this,e))).handleStartNewGameCallback=function(e){n.handleStartNewGame=e},n.handlePauseCallback=function(e){n.handlePause=e},n.handleContinueCallback=function(e){n.handleContinue=e},n.handleEndGameCallback=function(e){n.handleEndGame=e},n.handleNicknameChange=function(e){var t=e.target.value;n.setState(function(e){return{user:Object(U.a)({},e.user,{nickname:t})}}),n.handleUpdatePlayer({nickname:t})},n.handleConnectionTypeChange=function(e){var t=e.target.value;n.setState(function(){return{connectionType:t}})},n.handleFindHost=function(e){var t=n.state.user.id;n.socket.emit(jt,{type:yt,id:t,host:e})},n.handleUpdatePlayer=function(e){var t=n.state.user.id;n.socket.emit(jt,Object(U.a)({type:kt,id:t},e))},n.handleGameOnline=function(e){n.socket.emit(jt,Object(U.a)({type:St},e))},n.handleBackToLobby=function(){n.setState(function(){return{isLobby:!0}}),n.socket.emit(jt,{type:Nt})},n.handleStartNewGame=null,n.handlePause=null,n.handleContinue=null,n.handleEndGame=null,n.state={user:{id:null,nickname:"",speed:ot,opponent:{nickname:"",table:[],preview:[],score:0,isFinish:!1}},isLobby:!0,connectionType:"host"},n}return Object(Ke.a)(t,e),Object(Fe.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.socket=wt()("https://lawsaw-tetris-server.herokuapp.com/"),this.socket.on("CLIENT",function(t){var n=t.type,a=Object(s.a)(t,["type"]);switch(n){case"LOG":break;case"INIT":var r=a.id;e.setState(function(e){return{user:Object(U.a)({},e.user,{id:r})}});break;case"MESSAGE":var o=a.messageType,i=a.message;e.props.enqueueSnackbar(i,{variant:o,autoHideDuration:2e3});break;case"START":var c=a.opponent;e.setState(function(e){return{isLobby:!1,user:Object(U.a)({},e.user,{opponent:c})}});break;case"GAME":var l=a.action,u=a.speed,A=Object(s.a)(a,["action","speed"]);e.setState(function(e){return{user:Object(U.a)({},e.user,{speed:u,opponent:Object(U.a)({},e.user.opponent,A)})}}),l&&e[l](!1);break;case"LEAVE SESSION":var g={id:e.state.user.id,nickname:e.state.user.nickname};e.setState(function(){return{isLobby:!0,user:g}})}})}},{key:"render",value:function(){var e=this.state,t=e.isLobby,n=e.connectionType,a=e.user,o=a.id,i=a.nickname;return t?r.a.createElement(Zt,{id:o,connectionType:n,onHostFind:this.handleFindHost,onConnectionTypeChange:this.handleConnectionTypeChange,onNicknameChange:this.handleNicknameChange,nickname:i}):r.a.createElement(Xt,{onGameOnline:this.handleGameOnline,handleStartNewGameCallback:this.handleStartNewGameCallback,handlePauseCallback:this.handlePauseCallback,handleContinueCallback:this.handleContinueCallback,handleEndGameCallback:this.handleEndGameCallback,onBackToLobby:this.handleBackToLobby,user:a})}}]),t}(a.PureComponent),Dt=Object(_e.withSnackbar)(Object(u.a)(function(){return{}})(Rt)),xt=At(rt,at),Gt=At(3,3),Tt=function(e){function t(){return Object(Ue.a)(this,t),Object(ze.a)(this,Object(We.a)(t).apply(this,arguments))}return Object(Ke.a)(t,e),Object(Fe.a)(t,[{key:"render",value:function(){var e=this.props,t=e.score,n=e.table,a=e.preview;return r.a.createElement(m.a,{container:!0,justify:"center",spacing:5},r.a.createElement(m.a,{item:!0},r.a.createElement(Lt,{table:n||xt})),r.a.createElement(m.a,{item:!0},r.a.createElement(en,{table:a||Gt}),r.a.createElement(Mt,{value:t})))}}]),t}(a.PureComponent),Ht=function(e){function t(){return Object(Ue.a)(this,t),Object(ze.a)(this,Object(We.a)(t).apply(this,arguments))}return Object(Ke.a)(t,e),Object(Fe.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.value;return r.a.createElement(h.a,{className:t.score},"Score: ",n)}}]),t}(a.PureComponent),Mt=Object(u.a)(function(){return{score:{fontSize:40}}})(Ht),Pt=function(e){function t(){return Object(Ue.a)(this,t),Object(ze.a)(this,Object(We.a)(t).apply(this,arguments))}return Object(Ke.a)(t,e),Object(Fe.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.table,a=Object(s.a)(e,["classes","table"]);return r.a.createElement(h.a,{className:t.screen},r.a.createElement(h.a,{className:t.screenInner},r.a.createElement(ft,Object.assign({table:n},a))))}}]),t}(a.PureComponent),Lt=Object(u.a)(function(){return{screen:{position:"relative",width:26*rt,height:26*(at-nt)},screenInner:{position:"absolute",left:0,right:0,bottom:0}}})(Pt),Yt=function(e){function t(){return Object(Ue.a)(this,t),Object(ze.a)(this,Object(We.a)(t).apply(this,arguments))}return Object(Ke.a)(t,e),Object(Fe.a)(t,[{key:"render",value:function(){var e=this.props,t=e.gameMode,n=e.onGameModeChange;return r.a.createElement(ye.a,{position:"static"},r.a.createElement(Se.a,null,r.a.createElement(Qe.a,{variant:"contained",onClick:function(){return n("single")},disabled:"single"===t,color:"secondary"},"SinglePlayer"),r.a.createElement(Qe.a,{variant:"contained",onClick:function(){return n("multi")},disabled:"multi"===t,color:"secondary"},"MultiPlayer")))}}]),t}(a.PureComponent),Ut=n(573),Ft=n(556),zt=n(571),Wt=n(557),Kt=n(570),_t=n(575),Jt=n(555),Vt=["Your nickname","HOST or CLIENT?",""],qt=function(e){function t(){var e,n;Object(Ue.a)(this,t);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return(n=Object(ze.a)(this,(e=Object(We.a)(t)).call.apply(e,[this].concat(i)))).state={host:"",activeStep:0},n.handleFriendIdChange=function(e){var t=e.target.value;n.setState(function(){return{host:t}})},n.handleBackStep=function(){var e=n.state.activeStep;n.setState(function(){return{activeStep:e-1}})},n.handleNextStep=function(){var e=n.state.activeStep;2===e&&n.handleFindHost(),e<2&&n.setState(function(){return{activeStep:e+1}})},n.handleFindHost=function(){(0,n.props.onHostFind)(n.state.host)},n.renderStep=function(e){var t=n.props,o=t.classes,i=t.id,c=t.nickname,l=t.onNicknameChange,s=t.connectionType,u=t.onConnectionTypeChange,A=n.state.host;switch(e){case 0:return r.a.createElement(ve.a,{label:"Enter your nickname",margin:"normal",variant:"outlined",value:c,onChange:l});case 1:return r.a.createElement(_t.a,{"aria-label":"position",name:"position",value:s,onChange:u,row:!0},r.a.createElement(Jt.a,{value:"host",control:r.a.createElement(Kt.a,{color:"secondary"}),label:"I want to be HOST",labelPlacement:"end"}),r.a.createElement(Jt.a,{value:"client",control:r.a.createElement(Kt.a,{color:"secondary"}),label:"I want to be CLIENT",labelPlacement:"end"}));case 2:return r.a.createElement(a.Fragment,null,"host"===s?r.a.createElement(a.Fragment,null,"Share your ID with your friend: ",r.a.createElement("br",null),r.a.createElement("strong",null,i)," ",r.a.createElement("br",null)):r.a.createElement(h.a,{className:o.textFindHost},r.a.createElement(ve.a,{label:"Enter HOST's ID:",margin:"normal",variant:"outlined",value:A,onChange:n.handleFriendIdChange})))}},n.setFilledValue=function(e){var t=n.props,a=t.connectionType,r=t.nickname,o=n.state.activeStep;return o>e&&0===e?": ".concat(r):o>e&&1===e?": ".concat(a):void 0},n}return Object(Ke.a)(t,e),Object(Fe.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.connectionType,o=this.state.activeStep;return r.a.createElement(Ut.a,{activeStep:o,orientation:"vertical",className:n.stepper},Vt.map(function(t,i){return r.a.createElement(Ft.a,{key:t},r.a.createElement(zt.a,null,t,e.setFilledValue(i)),r.a.createElement(Wt.a,null,e.renderStep(i),r.a.createElement(h.a,null,o>0?r.a.createElement(Qe.a,{disabled:0===o,variant:"contained",color:"primary",onClick:e.handleBackStep,className:n.button},"Back"):null,2!==o||"host"!==a?r.a.createElement(Qe.a,{variant:"contained",color:"primary",onClick:e.handleNextStep,className:n.button},"Next"):null)))}))}}]),t}(a.PureComponent),Zt=Object(u.a)(function(){return{stepper:{width:300},textFindHost:{display:"flex",alignItems:"center"},listOfClients:{},listOfClientsItem:{"&:not(:first-child)":{borderTop:"1px solid grey"}},loader:{display:"block",margin:"10px auto"}}})(qt),Xt=function(e){function t(){return Object(Ue.a)(this,t),Object(ze.a)(this,Object(We.a)(t).apply(this,arguments))}return Object(Ke.a)(t,e),Object(Fe.a)(t,[{key:"render",value:function(){var e=this.props,t=e.user,n=Object(s.a)(e,["user"]),a=t.nickname,o=t.opponent,i=o.table,c=o.score,l=o.nickname,u=o.preview;return r.a.createElement(m.a,{container:!0},r.a.createElement(m.a,{item:!0,xs:6},r.a.createElement(h.a,{component:"h2"},a||"No name"),r.a.createElement(pt,Object.assign({user:t},n))),r.a.createElement(m.a,{item:!0,xs:6},r.a.createElement(h.a,{component:"h2"},l||"No name"),r.a.createElement(Tt,{table:i,score:c,preview:u})))}}]),t}(a.PureComponent),$t=function(e){function t(){return Object(Ue.a)(this,t),Object(ze.a)(this,Object(We.a)(t).apply(this,arguments))}return Object(Ke.a)(t,e),Object(Fe.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=Object(s.a)(e,["classes"]);return r.a.createElement(h.a,{className:t.preview},r.a.createElement(ft,Object.assign({isPreview:!0},n)))}}]),t}(a.PureComponent),en=Object(u.a)(function(){return{preview:{width:104,height:104}}})($t),tn=n(32),nn="LOBBY_STEP_NICKNAME",an="LOBBY_STEP_ROOM_SELECTION",rn="SOCKET_ON_NICKNAME_CHANGE",on="SOCKET_ON_ROOM_LIST",cn="SOCKET_ON_ROOM_ADD",ln="SOCKET_ON_ROOM_JOIN",sn="SOCKET_ON_ROOM_LEAVE",un="SOCKET_ON_ROOM",An="SOCKET_MESSAGE",gn="SOCKET_ON_CHAT",dn="SOCKET_ON_WORD_SELECT",mn="SOCKET_ON_PAINT",pn="SOCKET_ON_MESSAGE_LIKE",En=function(e){function t(e){var n,a;return Object(Ue.a)(this,t),(a=Object(ze.a)(this,Object(We.a)(t).call(this,e))).onStepChange=function(e){var t=e.step;a.setStep(t)},a.setStep=function(e){a.setState(function(){return{step:e}})},a.handleBackToNickname=function(){a.setStep(nn)},a.steps=(n={},Object(tn.a)(n,nn,function(){return r.a.createElement(wn,null)}),Object(tn.a)(n,an,function(){return r.a.createElement(Rn,{onBackToNickname:a.handleBackToNickname})}),n),a.state={step:nn},a}return Object(Ke.a)(t,e),Object(Fe.a)(t,[{key:"componentDidMount",value:function(){this.props.socket.on("SOCKET_ON_LOBBY_STEP_CHANGE",this.onStepChange)}},{key:"componentWillUnmount",value:function(){this.props.socket.off("SOCKET_ON_LOBBY_STEP_CHANGE",this.onStepChange)}},{key:"render",value:function(){var e=this.props.classes,t=this.state.step;return r.a.createElement(h.a,{className:e.lobby},this.steps[t]())}}]),t}(a.PureComponent),fn=Object(M.b)(function(e){return{socket:e.socket}})(Object(u.a)(function(e){return{lobby:{position:"relative"},lobbyContent:{position:"relative"}}})(En)),hn=n(574),Cn=n(558),Bn=function(e){function t(){var e,n;Object(Ue.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(ze.a)(this,(e=Object(We.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){var t=n.props.onSubmit;e.preventDefault(),t(e)},n}return Object(Ke.a)(t,e),Object(Fe.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.onChange,a=e.placeholder,o=e.value,i=e.className,c=Object(s.a)(e,["classes","onChange","placeholder","value","className"]);return r.a.createElement(je.a,Object.assign({className:T()(t.root,i),square:!0},c),r.a.createElement("form",{className:t.form,onSubmit:this.handleSubmit},r.a.createElement(hn.a,{className:t.input,placeholder:a,value:o,onChange:n,autoFocus:!0}),r.a.createElement(J.a,{className:t.iconButton,onClick:this.handleSubmit},r.a.createElement(Cn.a,null))))}}]),t}(a.PureComponent),bn=Object(u.a)(function(e){return{root:{position:"relative"},input:{marginLeft:e.spacing(2),flex:1},iconButton:{},form:{padding:"2px 4px",display:"flex",alignItems:"center",width:"100%"}}})(Bn),In=function(e){function t(e){var n;return Object(Ue.a)(this,t),(n=Object(ze.a)(this,Object(We.a)(t).call(this,e))).setSize=function(){var e=n.props,t=e.k,a=e.theme,r=n.ref.current,o=r.offsetWidth,i=r.offsetHeight,c=r.parentElement,l=c.offsetWidth,s=c.offsetHeight,u=i/t,A=o*t,g=a.spacing(2),d=l<s?{height:A>s?s:A,width:"calc(100% - ".concat(g,"px)"),maxHeight:"calc(100% - ".concat(g,"px)"),maxWidth:s/t-g}:l>s?{width:u>l?l:u,height:"calc(100% - ".concat(g,"px)"),maxWidth:"calc(100% - ".concat(g,"px)"),maxHeight:l*t-g}:{width:u,height:A,maxWidth:s/t,maxHeight:l*t},m=l<s?[u,A>s?s-g:A]:l>s?[u>l?l-g:u,A]:[u,A],p=Object(f.a)(m,2),E=p[0],h=p[1];n.setState(function(){return{style:d,canvasWidth:E,canvasHeight:h}})},n.updateChildren=function(){var e=n.props.children,t=n.state,r=t.canvasWidth,o=t.canvasHeight;return Object(a.cloneElement)(e,{resizer:{width:r,height:o}})},n.ref=Object(a.createRef)(),n.state={style:{width:"100%",height:"100%"}},n}return Object(Ke.a)(t,e),Object(Fe.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setSize(),setTimeout(function(){e.setSize()},200),window.addEventListener("resize",this.setSize,!1)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.setSize,!1)}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.className,a=(e.children,this.state.style);return r.a.createElement(h.a,{className:T()(t.resizer,n),ref:this.ref,style:a},this.updateChildren())}}]),t}(a.PureComponent),Qn=Object(u.a)(function(e){return{resizer:{position:"absolute"}}},{withTheme:!0})(In);function vn(){var e=!1;return function(t){e||(e=!0,t(),setTimeout(function(){e=!1},750))}}var On=function(e){function t(e){var n;return Object(Ue.a)(this,t),(n=Object(ze.a)(this,Object(We.a)(t).call(this,e))).handleNicknameChange=function(e){var t=e.target.value;n.setState(function(){return{nickname:t}})},n.submitNickname=function(){var e=n.props.socket,t=n.state.nickname;e.emit(rn,{nickname:t})},n.handleNicknameSubmit=function(){n.handleNicknameSubmitDecorator(n.submitNickname)},n.handleNicknameSubmitDecorator=vn(),n.state={nickname:""},n}return Object(Ke.a)(t,e),Object(Fe.a)(t,[{key:"render",value:function(){var e=this.state.nickname;return r.a.createElement(bn,{onChange:this.handleNicknameChange,onSubmit:this.handleNicknameSubmit,placeholder:"Enter your nickname",value:e})}}]),t}(a.PureComponent),wn=Object(M.b)(function(e){return{socket:e.socket}})(Object(u.a)(function(){return{}})(On)),jn=n(561),kn=n(562),yn=n(559),Sn=n(560),Nn=function(e){function t(e){var n;return Object(Ue.a)(this,t),(n=Object(ze.a)(this,Object(We.a)(t).call(this,e))).getRoomList=function(){n.props.socket.emit(on)},n.updateRoomList=function(e){var t=e.rooms;n.setState(function(){return{rooms:t,isNewRoomModal:!1,new_room_name:""}})},n.handleNewRoomModalOpen=function(){n.setState(function(){return{isNewRoomModal:!0}})},n.handleNewRoomModalClose=function(){n.setState(function(){return{isNewRoomModal:!1,new_room_name:""}})},n.handleNewRoomChange=function(e){var t=e.target.value;n.setState(function(){return{new_room_name:t}})},n.handleNewRoomSubmit=function(){var e=n.state.new_room_name;n.handleNewRoomSubmitDecorator(function(){return n.submitNewRoom(e)})},n.submitNewRoom=function(e){n.props.socket.emit(cn,{room:e})},n.handleJoinRoom=function(e){n.props.socket.emit(ln,{room:e})},n.handleNewRoomSubmitDecorator=vn(),n.state={new_room_name:"",isNewRoomModal:!1,rooms:null},n}return Object(Ke.a)(t,e),Object(Fe.a)(t,[{key:"componentDidMount",value:function(){this.props.socket.on(on,this.updateRoomList),this.getRoomList()}},{key:"componentWillUnmount",value:function(){this.props.socket.off(on,this.updateRoomList)}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,o=t.onBackToNickname,i=this.state,c=i.rooms,l=i.new_room_name,s=i.isNewRoomModal;return r.a.createElement(a.Fragment,null,r.a.createElement(me.a,{className:n.stepTitle,variant:"h4"},"Select room or create new one:"),r.a.createElement(m.a,{container:!0},r.a.createElement(m.a,{item:!0},r.a.createElement(J.a,{className:n.iconButton,onClick:o},r.a.createElement(yn.a,null)),r.a.createElement(J.a,{className:n.iconButton,onClick:this.handleNewRoomModalOpen,disabled:!0},r.a.createElement(Sn.a,null))),r.a.createElement(m.a,{item:!0},r.a.createElement(je.a,{square:!0},r.a.createElement(et.a,{component:"nav",className:n.list},c&&c.length?c.map(function(t,n){var o=t.room,i=t.players;return r.a.createElement(a.Fragment,{key:o},r.a.createElement(tt.a,{button:!0,onClick:function(){return e.handleJoinRoom(o)}},r.a.createElement(jn.a,{primary:o}),r.a.createElement(h.a,null,"(",i,")")),n!==c.length-1?r.a.createElement(kn.a,null):null)}):"No rooms found")))),r.a.createElement(He.a,{open:s,onClose:this.handleNewRoomModalClose},r.a.createElement(bn,{onChange:this.handleNewRoomChange,onSubmit:this.handleNewRoomSubmit,placeholder:"Enter new room name",value:l})))}}]),t}(a.PureComponent),Rn=Object(M.b)(function(e){return{socket:e.socket}})(Object(u.a)(function(e){return{root:{},form:{padding:"2px 4px",display:"flex",alignItems:"center",width:250},input:{marginLeft:e.spacing(2),flex:1},iconButton:{padding:20},divider:{height:28,margin:4},stepTitle:{margin:"20px 0"},list:{width:350}}})(Nn)),Dn=function(e){function t(){return Object(Ue.a)(this,t),Object(ze.a)(this,Object(We.a)(t).apply(this,arguments))}return Object(Ke.a)(t,e),Object(Fe.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.room,o=e.task,i=(e.player,e.children),c=n.winner;return r.a.createElement(a.Fragment,null,r.a.createElement(m.a,{container:!0,spacing:0,wrap:"nowrap",className:t.crocodile},r.a.createElement(m.a,{item:!0,className:t.paint},r.a.createElement(h.a,{className:t.paintWork},i),r.a.createElement(h.a,{className:t.paintHeader},r.a.createElement(Vn,{data:[Object(U.a)({},o),{label:"Players",value:r.a.createElement(Kn,null)}]}))),r.a.createElement(m.a,{item:!0,className:t.chat},r.a.createElement($n,null))),r.a.createElement(Zn,{winner:c,word:n.word}))}}]),t}(a.PureComponent),xn=Object(u.a)(function(e){return{crocodile:Object(tn.a)({alignItems:"stretch",justifyContent:"stretch",height:"100%",flexDirection:"column"},e.breakpoints.up("md"),{flexDirection:"row"}),paint:{position:"relative",flexGrow:1,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"stretch"},paintHeader:{},paintWork:{position:"relative",flexGrow:1,display:"flex",alignItems:"center",justifyContent:"center"},chat:Object(tn.a)({flexBasis:220,flexShrink:0},e.breakpoints.up("md"),{flexBasis:260}),players:{display:"flex",justifyContent:"center",flexWrap:"wrap","& > *":{margin:e.spacing(.5)}}}})(Dn),Gn="UPDATE_ROOM";function Tn(e){return{type:Gn,payload:e}}var Hn=function(e){var t=e.isPainter,n=(e.classes,Object(s.a)(e,["isPainter","classes"]));return t?r.a.createElement(Fn,n):r.a.createElement(Yn,n)},Mn=function(e){function t(){var e,n;Object(Ue.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(ze.a)(this,(e=Object(We.a)(t)).call.apply(e,[this].concat(r)))).updateRoom=function(e){var t=e.room;(0,n.props.updateRoom)(t)},n.requestRoomData=function(){n.props.socket.emit(un)},n.getPlayer=function(){var e=n.props,t=e.socket.id,a=e.room,r=a&&a.players&&a.players[t]||{};return r.id=t,r},n}return Object(Ke.a)(t,e),Object(Fe.a)(t,[{key:"componentDidMount",value:function(){this.props.socket.on(un,this.updateRoom),this.requestRoomData()}},{key:"componentWillUnmount",value:function(){this.props.socket.off(un,this.updateRoom)}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.socket,a=e.room,o=e.painter,i=n.id===o.id;return a?r.a.createElement(h.a,{className:t.interface},r.a.createElement(Hn,Object.assign({isPainter:i},this.props))):"Room is loading"}}]),t}(a.PureComponent),Pn=Object(M.b)(function(e){return{socket:e.socket,room:e.room,painter:(e.room||{}).painter||{}}},function(e){return{updateRoom:function(t){e(Tn(t))}}})(Object(u.a)(function(){return{interface:{position:"relative",width:"100%",height:"100%"}}})(Mn)),Ln=function(e){function t(){var e,n;Object(Ue.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(ze.a)(this,(e=Object(We.a)(t)).call.apply(e,[this].concat(r)))).getTask=function(){var e=n.props,t=e.word,a=e.painter;return t?{label:"Your task",value:"Try to guess the word that ".concat(a.nickname," is drawing")}:{}},n}return Object(Ke.a)(t,e),Object(Fe.a)(t,[{key:"render",value:function(){var e=this.getTask();return r.a.createElement(xn,Object.assign({task:e},this.props),r.a.createElement(Ea,null))}}]),t}(a.PureComponent),Yn=Object(M.b)(function(e){return{word:e.room.word,painter:e.room.painter}})(Object(u.a)(function(e){return{}})(Ln)),Un=function(e){function t(){var e,n;Object(Ue.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(ze.a)(this,(e=Object(We.a)(t)).call.apply(e,[this].concat(r)))).handleWordSelect=function(e,t){n.props.socket.emit(dn,t)},n.handleConvertToImage=function(e){if(!e)return!1;var t=n.props.socket,a=e.current.toDataURL();t.emit(mn,a)},n.getTask=function(){var e=n.props.word;return e?{label:"Your task",value:'Try to draw word "'.concat(e,'"')}:{}},n.isWordDefined=function(){return!n.props.word},n}return Object(Ke.a)(t,e),Object(Fe.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.classes,o=(t.onWordSelect,t.words),i=Object(s.a)(t,["classes","onWordSelect","words"]);return r.a.createElement(a.Fragment,null,r.a.createElement(xn,Object.assign({task:this.getTask()},i),r.a.createElement(ma,{onConvertToImage:this.handleConvertToImage})),r.a.createElement(He.a,{open:this.isWordDefined()},r.a.createElement(h.a,{className:n.wordList},o.map(function(t,a){return r.a.createElement(Qe.a,{key:a,className:n.wordButton,variant:"outlined",onClick:function(n){return e.handleWordSelect(n,t)}},t)}))))}}]),t}(a.PureComponent),Fn=Object(M.b)(function(e){return{socket:e.socket,word:e.room.word,words:e.room.words}})(Object(u.a)(function(e){return{wordList:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:e.spacing(2)},wordButton:{width:"100%","&:not(:first-child)":{marginTop:e.spacing(1)}}}})(Un)),zn=n(576),Wn=function(e){function t(){var e,n;Object(Ue.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(ze.a)(this,(e=Object(We.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(e){return function(e){}},n}return Object(Ke.a)(t,e),Object(Fe.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.players,o=t.painter,i=Object.keys(a);return r.a.createElement(h.a,{className:n.players},a&&i.length?i.map(function(t,n){return r.a.createElement(zn.a,{key:n,size:"small",label:a[t].nickname,color:o.id===t?"primary":"default",onClick:e.handleClick(t)})}):"There is no players in this room")}}]),t}(a.PureComponent),Kn=Object(M.b)(function(e){return{players:e.room.players,painter:e.room.painter||{}}})(Object(u.a)(function(e){return{players:{alignSelf:"flex-start",display:"flex",justifyContent:"center",flexWrap:"wrap","& > *":{margin:e.spacing(.5)}}}})(Wn));var _n,Jn=function(e){function t(){return Object(Ue.a)(this,t),Object(ze.a)(this,Object(We.a)(t).apply(this,arguments))}return Object(Ke.a)(t,e),Object(Fe.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.data;return r.a.createElement(h.a,{className:t.roomInfoBar},n.map(function(e,n){var a=e.label,o=e.value;return a&&o?r.a.createElement(h.a,{key:n,className:t.item},r.a.createElement(h.a,{className:t.label,fontWeight:"fontWeightMedium"},a,":"),r.a.createElement(h.a,{className:t.value},o)):null}))}}]),t}(a.PureComponent),Vn=Object(M.b)(function(e){return{socket:e.socket,room:e.room}})(Object(u.a)(function(e){return{roomInfoBar:{position:"relative",alignSelf:"flex-start",width:"100%",marginBottom:e.spacing(2)},item:{display:"flex",alignItems:"center",justifyContent:"flex-start",flexWrap:"wrap",flexDirection:"row"},label:{flexBasis:80},value:{marginLeft:e.spacing(2)}}})(Jn)),qn=function(e){function t(){return Object(Ue.a)(this,t),Object(ze.a)(this,Object(We.a)(t).apply(this,arguments))}return Object(Ke.a)(t,e),Object(Fe.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.winner,a=e.word,o=n||{},i=o.id,c=o.nickname;return i?r.a.createElement(He.a,{open:!0},r.a.createElement(Le.a,null,r.a.createElement(h.a,null,r.a.createElement(h.a,{component:"h4"},"The game is over!"),r.a.createElement(ht.a,{className:t.table},r.a.createElement(bt.a,null,r.a.createElement(It.a,null,r.a.createElement(Bt.a,null,"Winner: "),r.a.createElement(Bt.a,{align:"right"},c)),r.a.createElement(It.a,null,r.a.createElement(Bt.a,null,"Right word: "),r.a.createElement(Bt.a,{align:"right"},a))))))):null}}]),t}(a.PureComponent),Zn=Object(u.a)(function(){return{table:{width:300}}})(qn),Xn=function(e){function t(e){var n;return Object(Ue.a)(this,t),(n=Object(ze.a)(this,Object(We.a)(t).call(this,e))).onChat=function(e){n.props.socket.emit(gn,e)},n.handleChat=function(){var e=n.state.message;e.length>0&&(n.setState(function(){return{message:""}}),n.lockFuncChat(function(){return n.onChat(e)}))},n.handleMessageChange=function(e){var t=e.target.value;n.setState(function(){return{message:t}})},n.handleLikeMessage=function(e){return function(t){var a=n.props.socket;console.log(e,t),a.emit(pn,{id:e,value:t})}},n.lockFuncChat=vn(),n.state={message:""},n}return Object(Ke.a)(t,e),Object(Fe.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.chat,a=e.painter,o=e.socket.id===a.id,i=this.state.message;return r.a.createElement(m.a,{container:!0,spacing:0,direction:"column",className:t.wrapChat},r.a.createElement(m.a,{item:!0,className:t.wrapMessages},r.a.createElement(la,{chat:n,painterMode:o,onLikeMessage:this.handleLikeMessage})),o?null:r.a.createElement(m.a,{item:!0,className:t.wrapSubmit},r.a.createElement(bn,{onChange:this.handleMessageChange,onSubmit:this.handleChat,placeholder:"Message",value:i,className:t.textField,elevation:5})))}}]),t}(a.PureComponent),$n=Object(M.b)(function(e){return{socket:e.socket,painter:e.room.painter||{},chat:e.room.chat}})(Object(u.a)(function(e){return{chat:{flexGrow:1},wrapChat:{position:"relative",height:"100%",margin:0},wrapMessages:{position:"relative",flexGrow:1,padding:"0 !important"},wrapSubmit:{flexShrink:0,padding:"".concat(e.spacing(1),"px 0 0 0 !important")},textField:{width:"100%",padding:"2px 4px",display:"flex",alignItems:"center"},input:{flex:1}}})(Xn)),ea=n(88),ta=n.n(ea),na=n(232),aa=n.n(na),ra=(_n={},Object(tn.a)(_n,"THUMB_STATUS_LIKE",function(e){return r.a.createElement(ta.a,{className:T()(e.thumb,e.thumbUp)})}),Object(tn.a)(_n,"THUMB_STATUS_DISLIKE",function(e){return r.a.createElement(aa.a,{className:T()(e.thumb,e.thumbDown)})}),_n),oa=function(e){var t=e.classes,n=e.sender,a=e.message,o=e.onLikeMessage,i=e.likeStatus;return r.a.createElement(h.a,{className:t.card},o?r.a.createElement(Ha,{className:t.thumbClicker,onClick:o}):null,r.a.createElement(h.a,{fontWeight:"fontWeightBold",className:t.name},i&&ra[i](t),n),r.a.createElement(h.a,{className:t.message},a))},ia=function(e){var t=e.classes,n=e.message;return r.a.createElement(h.a,{className:t.card},r.a.createElement(h.a,{fontWeight:"fontWeightLight",className:t.messageServer},n))},ca=function(e){function t(e){var n;return Object(Ue.a)(this,t),(n=Object(ze.a)(this,Object(We.a)(t).call(this,e))).scrollWindowToBottom=function(){if(n.windowRef&&n.windowRef.current){var e=n.windowRef.current,t=e.scrollHeight,a=e.clientHeight;n.windowRef.current.scrollTop=t-a}},n.windowRef=Object(a.createRef)(),n}return Object(Ke.a)(t,e),Object(Fe.a)(t,[{key:"componentDidMount",value:function(){this.scrollWindowToBottom()}},{key:"componentDidUpdate",value:function(e,t,n){this.scrollWindowToBottom()}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.chat,o=e.painterMode,i=e.onLikeMessage,c=n&&n.length?n:[{player:{nickname:"SERVER"},message:"This chat is currently empty"}];return r.a.createElement(je.a,{elevation:5,square:!0,className:t.window},r.a.createElement(h.a,{className:t.windowInner,ref:this.windowRef},c.map(function(e,n){var c=e.player,l=e.message,s=e.id,u=e.likeStatus,A=c.nickname,g=o?{onLikeMessage:i(s)}:null;return r.a.createElement(a.Fragment,{key:n},"SERVER"===A?r.a.createElement(ia,{classes:t,message:l}):r.a.createElement(oa,Object.assign({classes:t,message:l,sender:A,likeStatus:u},g)))})))}}]),t}(a.PureComponent),la=Object(u.a)(function(e){return{window:{position:"relative",width:"100%",height:"100%"},windowInner:{position:"absolute",top:0,left:0,right:0,bottom:0,overflowX:"hidden",overflowY:"scroll"},card:{position:"relative",padding:e.spacing(1),"&:nth-child(2n)":{backgroundColor:Object(C.fade)(e.palette.grey[400],.1)}},cardActive:{cursor:"pointer",display:"block","&:hover":{backgroundColor:Object(C.fade)(e.palette.primary.light,.2)}},name:{textAlign:"left",fontSize:e.typography.pxToRem(13),paddingBottom:e.spacing(2)},message:{textAlign:"right",color:"#fff",fontSize:e.typography.pxToRem(12)},messageServer:{textAlign:"right",fontSize:e.typography.pxToRem(10)},thumb:{fontSize:e.typography.pxToRem(14),verticalAlign:"middle",marginRight:e.spacing(1),color:e.palette.primary.main},thumbUp:{color:"green"},thumbDown:{color:"red"},thumbClicker:{position:"absolute",top:0,right:0,width:"auto",transition:"opacity 0.3s ease 0s",opacity:0,"$card:hover &":{opacity:1}}}})(ca),sa=n(233),ua=n.n(sa),Aa=0,ga=null,da=function(e){function t(e){var n;return Object(Ue.a)(this,t),(n=Object(ze.a)(this,Object(We.a)(t).call(this,e))).state={lineOptions:{lineWidth:20,lineJoin:"round",lineCap:"round",strokeStyle:"#ff00ff"}},n.handlerColorSelect=function(e){n.setState(function(t){return{lineOptions:Object(U.a)({},t.lineOptions,{strokeStyle:e})}})},n.getCoords=function(e){var t=e.target,n=e.clientX,a=e.clientY,r=t.getBoundingClientRect();return{x:n-r.left,y:a-r.top}},n.updateLine=function(){var e=n.state.lineOptions;for(var t in e)ga[t]=e[t]},n.makeStep=function(e){var t=n.props.onConvertToImage,a=n.getCoords(e),r=a.x,o=a.y;return ga.lineTo(r,o),ga.stroke(),t(n.canvas),{x:r,y:o}},n.handleInit=function(){var e=n.canvas.current,t=n.canvas.current.parentElement,a=t.offsetWidth,r=t.offsetHeight,o=window.devicePixelRatio||1;e.width=a*o,e.height=r*o,(ga=e.getContext("2d")).scale(o,o),ua.a.enableUndo(ga),e.addEventListener("mousedown",n.handleMouseDown,!1),e.addEventListener("mouseup",n.handleMouseUp,!1),e.addEventListener("mousemove",n.handleMouseMove,!1)},n.handleMouseDown=function(e){if(e.button===Aa){n.isDrawing=!0;var t=n.props.onConvertToImage;ga.putTag(),n.updateLine(),ga.beginPath();var a=n.getCoords(e),r=a.x,o=a.y;ga.moveTo(r,o),t(n.canvas)}},n.handleMouseUp=function(e){e.button===Aa&&(n.isDrawing=!1,n.makeStep(e),ga.putTag())},n.handleMouseMove=function(e){n.isDrawing&&n.makeStep(e)},n.handleUndo=function(){var e=n.props.onConvertToImage;ga.undoTag(),e(n.canvas)},n.handleRedo=function(){var e=n.props.onConvertToImage;ga.redoTag(),e(n.canvas)},n.handleClear=function(){var e=n.props.onConvertToImage;ga.clearRect(0,0,n.canvas.current.width,n.canvas.current.height),e(n.canvas)},n.handleSizeChange=function(e,t){n.setState(function(e){return{lineOptions:Object(U.a)({},e.lineOptions,{lineWidth:t})}})},n.canvas=Object(a.createRef)(),n.isDrawing=!1,n}return Object(Ke.a)(t,e),Object(Fe.a)(t,[{key:"componentDidMount",value:function(){this.handleInit()}},{key:"render",value:function(){var e=this.props,t=e.classes,n=(e.resizer,this.state.lineOptions.lineWidth);return r.a.createElement(m.a,{container:!0,className:t.paint},r.a.createElement(m.a,{item:!0,className:t.toolbar},r.a.createElement(ka,{onColorSelect:this.handlerColorSelect,onUndo:this.handleUndo,onRedo:this.handleRedo,onClear:this.handleClear,onSizeChange:this.handleSizeChange,lineWidth:n})),r.a.createElement(m.a,{item:!0,className:t.screen},r.a.createElement(Qn,{k:.75},r.a.createElement(ha,{innerRef:this.canvas}))))}}]),t}(a.PureComponent),ma=Object(u.a)(function(e){return{desk:{position:"relative",width:"100%",height:"100%"},canvas:{},paint:{width:"100%",height:"100%",flexDirection:"column"},toolbar:{},screen:{position:"relative",flexGrow:1,display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"}}})(da),pa=function(e){function t(){return Object(Ue.a)(this,t),Object(ze.a)(this,Object(We.a)(t).apply(this,arguments))}return Object(Ke.a)(t,e),Object(Fe.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.image;return r.a.createElement(Qn,{k:400/600},r.a.createElement(je.a,{elevation:5,square:!0,className:t.screen},n&&n.length?r.a.createElement("img",{src:n||"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAlgAAAGQCAYAAAByNR6YAAAT1ElEQVR4Xu3WMREAAAgDMerfNCZ+DAI65Bh+5wgQIECAAAECBFKBpWvGCBAgQIAAAQIETmB5AgIECBAgQIBALCCwYlBzBAgQIECAAAGB5QcIECBAgAABArGAwIpBzREgQIAAAQIEBJYfIECAAAECBAjEAgIrBjVHgAABAgQIEBBYfoAAAQIECBAgEAsIrBjUHAECBAgQIEBAYPkBAgQIECBAgEAsILBiUHMECBAgQIAAAYHlBwgQIECAAAECsYDAikHNESBAgAABAgQElh8gQIAAAQIECMQCAisGNUeAAAECBAgQEFh+gAABAgQIECAQCwisGNQcAQIECBAgQEBg+QECBAgQIECAQCwgsGJQcwQIECBAgAABgeUHCBAgQIAAAQKxgMCKQc0RIECAAAECBASWHyBAgAABAgQIxAICKwY1R4AAAQIECBAQWH6AAAECBAgQIBALCKwY1BwBAgQIECBAQGD5AQIECBAgQIBALCCwYlBzBAgQIECAAAGB5QcIECBAgAABArGAwIpBzREgQIAAAQIEBJYfIECAAAECBAjEAgIrBjVHgAABAgQIEBBYfoAAAQIECBAgEAsIrBjUHAECBAgQIEBAYPkBAgQIECBAgEAsILBiUHMECBAgQIAAAYHlBwgQIECAAAECsYDAikHNESBAgAABAgQElh8gQIAAAQIECMQCAisGNUeAAAECBAgQEFh+gAABAgQIECAQCwisGNQcAQIECBAgQEBg+QECBAgQIECAQCwgsGJQcwQIECBAgAABgeUHCBAgQIAAAQKxgMCKQc0RIECAAAECBASWHyBAgAABAgQIxAICKwY1R4AAAQIECBAQWH6AAAECBAgQIBALCKwY1BwBAgQIECBAQGD5AQIECBAgQIBALCCwYlBzBAgQIECAAAGB5QcIECBAgAABArGAwIpBzREgQIAAAQIEBJYfIECAAAECBAjEAgIrBjVHgAABAgQIEBBYfoAAAQIECBAgEAsIrBjUHAECBAgQIEBAYPkBAgQIECBAgEAsILBiUHMECBAgQIAAAYHlBwgQIECAAAECsYDAikHNESBAgAABAgQElh8gQIAAAQIECMQCAisGNUeAAAECBAgQEFh+gAABAgQIECAQCwisGNQcAQIECBAgQEBg+QECBAgQIECAQCwgsGJQcwQIECBAgAABgeUHCBAgQIAAAQKxgMCKQc0RIECAAAECBASWHyBAgAABAgQIxAICKwY1R4AAAQIECBAQWH6AAAECBAgQIBALCKwY1BwBAgQIECBAQGD5AQIECBAgQIBALCCwYlBzBAgQIECAAAGB5QcIECBAgAABArGAwIpBzREgQIAAAQIEBJYfIECAAAECBAjEAgIrBjVHgAABAgQIEBBYfoAAAQIECBAgEAsIrBjUHAECBAgQIEBAYPkBAgQIECBAgEAsILBiUHMECBAgQIAAAYHlBwgQIECAAAECsYDAikHNESBAgAABAgQElh8gQIAAAQIECMQCAisGNUeAAAECBAgQEFh+gAABAgQIECAQCwisGNQcAQIECBAgQEBg+QECBAgQIECAQCwgsGJQcwQIECBAgAABgeUHCBAgQIAAAQKxgMCKQc0RIECAAAECBASWHyBAgAABAgQIxAICKwY1R4AAAQIECBAQWH6AAAECBAgQIBALCKwY1BwBAgQIECBAQGD5AQIECBAgQIBALCCwYlBzBAgQIECAAAGB5QcIECBAgAABArGAwIpBzREgQIAAAQIEBJYfIECAAAECBAjEAgIrBjVHgAABAgQIEBBYfoAAAQIECBAgEAsIrBjUHAECBAgQIEBAYPkBAgQIECBAgEAsILBiUHMECBAgQIAAAYHlBwgQIECAAAECsYDAikHNESBAgAABAgQElh8gQIAAAQIECMQCAisGNUeAAAECBAgQEFh+gAABAgQIECAQCwisGNQcAQIECBAgQEBg+QECBAgQIECAQCwgsGJQcwQIECBAgAABgeUHCBAgQIAAAQKxgMCKQc0RIECAAAECBASWHyBAgAABAgQIxAICKwY1R4AAAQIECBAQWH6AAAECBAgQIBALCKwY1BwBAgQIECBAQGD5AQIECBAgQIBALCCwYlBzBAgQIECAAAGB5QcIECBAgAABArGAwIpBzREgQIAAAQIEBJYfIECAAAECBAjEAgIrBjVHgAABAgQIEBBYfoAAAQIECBAgEAsIrBjUHAECBAgQIEBAYPkBAgQIECBAgEAsILBiUHMECBAgQIAAAYHlBwgQIECAAAECsYDAikHNESBAgAABAgQElh8gQIAAAQIECMQCAisGNUeAAAECBAgQEFh+gAABAgQIECAQCwisGNQcAQIECBAgQEBg+QECBAgQIECAQCwgsGJQcwQIECBAgAABgeUHCBAgQIAAAQKxgMCKQc0RIECAAAECBASWHyBAgAABAgQIxAICKwY1R4AAAQIECBAQWH6AAAECBAgQIBALCKwY1BwBAgQIECBAQGD5AQIECBAgQIBALCCwYlBzBAgQIECAAAGB5QcIECBAgAABArGAwIpBzREgQIAAAQIEBJYfIECAAAECBAjEAgIrBjVHgAABAgQIEBBYfoAAAQIECBAgEAsIrBjUHAECBAgQIEBAYPkBAgQIECBAgEAsILBiUHMECBAgQIAAAYHlBwgQIECAAAECsYDAikHNESBAgAABAgQElh8gQIAAAQIECMQCAisGNUeAAAECBAgQEFh+gAABAgQIECAQCwisGNQcAQIECBAgQEBg+QECBAgQIECAQCwgsGJQcwQIECBAgAABgeUHCBAgQIAAAQKxgMCKQc0RIECAAAECBASWHyBAgAABAgQIxAICKwY1R4AAAQIECBAQWH6AAAECBAgQIBALCKwY1BwBAgQIECBAQGD5AQIECBAgQIBALCCwYlBzBAgQIECAAAGB5QcIECBAgAABArGAwIpBzREgQIAAAQIEBJYfIECAAAECBAjEAgIrBjVHgAABAgQIEBBYfoAAAQIECBAgEAsIrBjUHAECBAgQIEBAYPkBAgQIECBAgEAsILBiUHMECBAgQIAAAYHlBwgQIECAAAECsYDAikHNESBAgAABAgQElh8gQIAAAQIECMQCAisGNUeAAAECBAgQEFh+gAABAgQIECAQCwisGNQcAQIECBAgQEBg+QECBAgQIECAQCwgsGJQcwQIECBAgAABgeUHCBAgQIAAAQKxgMCKQc0RIECAAAECBASWHyBAgAABAgQIxAICKwY1R4AAAQIECBAQWH6AAAECBAgQIBALCKwY1BwBAgQIECBAQGD5AQIECBAgQIBALCCwYlBzBAgQIECAAAGB5QcIECBAgAABArGAwIpBzREgQIAAAQIEBJYfIECAAAECBAjEAgIrBjVHgAABAgQIEBBYfoAAAQIECBAgEAsIrBjUHAECBAgQIEBAYPkBAgQIECBAgEAsILBiUHMECBAgQIAAAYHlBwgQIECAAAECsYDAikHNESBAgAABAgQElh8gQIAAAQIECMQCAisGNUeAAAECBAgQEFh+gAABAgQIECAQCwisGNQcAQIECBAgQEBg+QECBAgQIECAQCwgsGJQcwQIECBAgAABgeUHCBAgQIAAAQKxgMCKQc0RIECAAAECBASWHyBAgAABAgQIxAICKwY1R4AAAQIECBAQWH6AAAECBAgQIBALCKwY1BwBAgQIECBAQGD5AQIECBAgQIBALCCwYlBzBAgQIECAAAGB5QcIECBAgAABArGAwIpBzREgQIAAAQIEBJYfIECAAAECBAjEAgIrBjVHgAABAgQIEBBYfoAAAQIECBAgEAsIrBjUHAECBAgQIEBAYPkBAgQIECBAgEAsILBiUHMECBAgQIAAAYHlBwgQIECAAAECsYDAikHNESBAgAABAgQElh8gQIAAAQIECMQCAisGNUeAAAECBAgQEFh+gAABAgQIECAQCwisGNQcAQIECBAgQEBg+QECBAgQIECAQCwgsGJQcwQIECBAgAABgeUHCBAgQIAAAQKxgMCKQc0RIECAAAECBASWHyBAgAABAgQIxAICKwY1R4AAAQIECBAQWH6AAAECBAgQIBALCKwY1BwBAgQIECBAQGD5AQIECBAgQIBALCCwYlBzBAgQIECAAAGB5QcIECBAgAABArGAwIpBzREgQIAAAQIEBJYfIECAAAECBAjEAgIrBjVHgAABAgQIEBBYfoAAAQIECBAgEAsIrBjUHAECBAgQIEBAYPkBAgQIECBAgEAsILBiUHMECBAgQIAAAYHlBwgQIECAAAECsYDAikHNESBAgAABAgQElh8gQIAAAQIECMQCAisGNUeAAAECBAgQEFh+gAABAgQIECAQCwisGNQcAQIECBAgQEBg+QECBAgQIECAQCwgsGJQcwQIECBAgAABgeUHCBAgQIAAAQKxgMCKQc0RIECAAAECBASWHyBAgAABAgQIxAICKwY1R4AAAQIECBAQWH6AAAECBAgQIBALCKwY1BwBAgQIECBAQGD5AQIECBAgQIBALCCwYlBzBAgQIECAAAGB5QcIECBAgAABArGAwIpBzREgQIAAAQIEBJYfIECAAAECBAjEAgIrBjVHgAABAgQIEBBYfoAAAQIECBAgEAsIrBjUHAECBAgQIEBAYPkBAgQIECBAgEAsILBiUHMECBAgQIAAAYHlBwgQIECAAAECsYDAikHNESBAgAABAgQElh8gQIAAAQIECMQCAisGNUeAAAECBAgQEFh+gAABAgQIECAQCwisGNQcAQIECBAgQEBg+QECBAgQIECAQCwgsGJQcwQIECBAgAABgeUHCBAgQIAAAQKxgMCKQc0RIECAAAECBASWHyBAgAABAgQIxAICKwY1R4AAAQIECBAQWH6AAAECBAgQIBALCKwY1BwBAgQIECBAQGD5AQIECBAgQIBALCCwYlBzBAgQIECAAAGB5QcIECBAgAABArGAwIpBzREgQIAAAQIEBJYfIECAAAECBAjEAgIrBjVHgAABAgQIEBBYfoAAAQIECBAgEAsIrBjUHAECBAgQIEBAYPkBAgQIECBAgEAsILBiUHMECBAgQIAAAYHlBwgQIECAAAECsYDAikHNESBAgAABAgQElh8gQIAAAQIECMQCAisGNUeAAAECBAgQEFh+gAABAgQIECAQCwisGNQcAQIECBAgQEBg+QECBAgQIECAQCwgsGJQcwQIECBAgAABgeUHCBAgQIAAAQKxgMCKQc0RIECAAAECBASWHyBAgAABAgQIxAICKwY1R4AAAQIECBAQWH6AAAECBAgQIBALCKwY1BwBAgQIECBAQGD5AQIECBAgQIBALCCwYlBzBAgQIECAAAGB5QcIECBAgAABArGAwIpBzREgQIAAAQIEBJYfIECAAAECBAjEAgIrBjVHgAABAgQIEBBYfoAAAQIECBAgEAsIrBjUHAECBAgQIEBAYPkBAgQIECBAgEAsILBiUHMECBAgQIAAAYHlBwgQIECAAAECsYDAikHNESBAgAABAgQElh8gQIAAAQIECMQCAisGNUeAAAECBAgQEFh+gAABAgQIECAQCwisGNQcAQIECBAgQEBg+QECBAgQIECAQCwgsGJQcwQIECBAgAABgeUHCBAgQIAAAQKxgMCKQc0RIECAAAECBASWHyBAgAABAgQIxAICKwY1R4AAAQIECBAQWH6AAAECBAgQIBALCKwY1BwBAgQIECBAQGD5AQIECBAgQIBALCCwYlBzBAgQIECAAAGB5QcIECBAgAABArGAwIpBzREgQIAAAQIEBJYfIECAAAECBAjEAgIrBjVHgAABAgQIEBBYfoAAAQIECBAgEAsIrBjUHAECBAgQIEBAYPkBAgQIECBAgEAsILBiUHMECBAgQIAAAYHlBwgQIECAAAECsYDAikHNESBAgAABAgQElh8gQIAAAQIECMQCAisGNUeAAAECBAgQEFh+gAABAgQIECAQCwisGNQcAQIECBAgQEBg+QECBAgQIECAQCwgsGJQcwQIECBAgAABgeUHCBAgQIAAAQKxgMCKQc0RIECAAAECBASWHyBAgAABAgQIxAICKwY1R4AAAQIECBAQWH6AAAECBAgQIBALCKwY1BwBAgQIECBAQGD5AQIECBAgQIBALCCwYlBzBAgQIECAAAGB5QcIECBAgAABArGAwIpBzREgQIAAAQIEBJYfIECAAAECBAjEAgIrBjVHgAABAgQIEBBYfoAAAQIECBAgEAsIrBjUHAECBAgQIEBAYPkBAgQIECBAgEAsILBiUHMECBAgQIAAAYHlBwgQIECAAAECsYDAikHNESBAgAABAgQElh8gQIAAAQIECMQCAisGNUeAAAECBAgQEFh+gAABAgQIECAQCwisGNQcAQIECBAgQEBg+QECBAgQIECAQCwgsGJQcwQIECBAgAABgeUHCBAgQIAAAQKxgMCKQc0RIECAAAECBASWHyBAgAABAgQIxAICKwY1R4AAAQIECBAQWH6AAAECBAgQIBALCKwY1BwBAgQIECBAQGD5AQIECBAgQIBALCCwYlBzBAgQIECAAAGB5QcIECBAgAABArGAwIpBzREgQIAAAQIEBJYfIECAAAECBAjEAgIrBjVHgAABAgQIEBBYfoAAAQIECBAgEAsIrBjUHAECBAgQIEBAYPkBAgQIECBAgEAsILBiUHMECBAgQIAAAYHlBwgQIECAAAECsYDAikHNESBAgAABAgQElh8gQIAAAQIECMQCAisGNUeAAAECBAgQeJDfAZGJuGy/AAAAAElFTkSuQmCC",className:t.image}):r.a.createElement(h.a,{className:t.note},"The game is going to start")))}}]),t}(a.PureComponent),Ea=Object(M.b)(function(e){return{image:e.room.image}})(Object(u.a)(function(){return{screen:{position:"relative",margin:"0 auto",width:"100%",height:"100%"},image:{display:"block",width:"100%",height:"100%"},note:{width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",flexWrap:"wrap"}}})(pa)),fa=function(e){function t(){var e,n;Object(Ue.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(ze.a)(this,(e=Object(We.a)(t)).call.apply(e,[this].concat(r)))).updateSize=function(){var e=n.props,t=e.resizer,a=t.width,r=t.height,o=e.innerRef,i=o.current.getContext("2d");if(!i)return!1;var c=i.getImageData(0,0,a,r),l=window.devicePixelRatio||1;o.current.width=a*l,o.current.height=r*l,i.putImageData(c,0,0)},n}return Object(Ke.a)(t,e),Object(Fe.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.onInit;e&&e()}},{key:"componentDidUpdate",value:function(e,t,n){e.resizer.width===this.props.resizer.width&&e.resizer.height===this.props.resizer.height||this.updateSize()}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.innerRef;return r.a.createElement(je.a,{elevation:5,square:!0,className:t.desk},r.a.createElement("canvas",{ref:n,className:t.canvas}))}}]),t}(a.PureComponent),ha=Object(u.a)(function(e){return{desk:{position:"relative",width:"100%",height:"100%"},canvas:{}}})(Object(a.forwardRef)(function(e,t){return r.a.createElement(fa,Object.assign({innerRef:t},e))})),Ca=n(577),Ba=n(234),ba=n.n(Ba),Ia=n(235),Qa=n.n(Ia),va=n(236),Oa=n.n(va);Object(u.a)(function(){return{}})(ye.a);var wa,ja=function(e){function t(){return Object(Ue.a)(this,t),Object(ze.a)(this,Object(We.a)(t).apply(this,arguments))}return Object(Ke.a)(t,e),Object(Fe.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.onColorSelect,a=e.onUndo,o=e.onRedo,i=e.onClear,c=e.onSizeChange,l=e.lineWidth;return r.a.createElement(Se.a,{variant:"dense",className:t.toolbar},r.a.createElement(Ra,{onColorSelect:n}),r.a.createElement(Ca.a,{value:l,onChange:c,"aria-labelledby":"discrete-slider",valueLabelDisplay:"auto",step:1,marks:!0,min:1,max:100,className:t.sizeSlider}),r.a.createElement(J.a,{onClick:a},r.a.createElement(ba.a,null)),r.a.createElement(J.a,{onClick:o},r.a.createElement(Qa.a,null)),r.a.createElement(J.a,{onClick:i},r.a.createElement(Oa.a,null)))}}]),t}(a.PureComponent),ka=Object(u.a)(function(){return{toolbar:{padding:0},sizeSlider:{flexGrow:1,marginLeft:15}}})(ja),ya=n(237),Sa=["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],Na=function(e){function t(){var e,n;Object(Ue.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(ze.a)(this,(e=Object(We.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(e,t){var a=n.props.onColorSelect;a&&a(e.hex)},n}return Object(Ke.a)(t,e),Object(Fe.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(h.a,{className:e.color},r.a.createElement(ya.GithubPicker,{color:"#ff00ff",onChange:this.handleChange,triangle:"hide",colors:Sa,className:e.picker}))}}]),t}(a.PureComponent),Ra=Object(u.a)(function(){return{color:{flexGrow:1},picker:{background:"transparent !important",border:"none !important",boxShadow:"none !important",padding:"0 !important"}}})(Na),Da=function(e){function t(){var e,n;Object(Ue.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(ze.a)(this,(e=Object(We.a)(t)).call.apply(e,[this].concat(r)))).handleGamePreStart=function(){(0,n.props.onGamePreStart)({status:"\u0421\u0422\u0410\u0422\u0423\u0421"})},n}return Object(Ke.a)(t,e),Object(Fe.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.onLeaveRoom;return r.a.createElement(h.a,{className:n.buttonBar},r.a.createElement(Qe.a,{variant:"outlined",onClick:a},"Leave game"),r.a.createElement(Qe.a,{variant:"outlined",onClick:function(t){return e.handleGamePreStart(t)}},"Pre Start game"))}}]),t}(a.PureComponent),xa=(Object(u.a)(function(e){return{buttonBar:{display:"flex",justifyContent:"center",flexWrap:"wrap","& > *":{margin:e.spacing(.5)}}}})(Da),n(563)),Ga=n(569),Ta=function(e){function t(){var e,n;Object(Ue.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(ze.a)(this,(e=Object(We.a)(t)).call.apply(e,[this].concat(r)))).state={value:null},n.handleChange=function(e,t){var a=n.props.onClick;n.setState(function(){return{value:t}}),a(t)},n}return Object(Ke.a)(t,e),Object(Fe.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.className,a=this.state.value;return r.a.createElement(m.a,{container:!0,className:T()(t.thumbClicker,n)},r.a.createElement(Ga.a,{size:"small",value:a,exclusive:!0,onChange:this.handleChange},r.a.createElement(xa.a,{key:1,value:"THUMB_STATUS_LIKE"},r.a.createElement(ta.a,null)),r.a.createElement(xa.a,{key:2,value:"THUMB_STATUS_DISLIKE"},r.a.createElement(ta.a,null))))}}]),t}(a.PureComponent),Ha=Object(u.a)(function(){return{thumbClicker:{}}})(Ta),Ma=function(e){function t(){return Object(Ue.a)(this,t),Object(ze.a)(this,Object(We.a)(t).apply(this,arguments))}return Object(Ke.a)(t,e),Object(Fe.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.isConnected,o=e.isLobby;return r.a.createElement(h.a,{className:t.layout},o?null:r.a.createElement(h.a,{className:t.header},r.a.createElement(Fa,null)),r.a.createElement(h.a,{className:t.body},n?r.a.createElement(a.Fragment,null,o?r.a.createElement(fn,null):r.a.createElement(Pn,null)):r.a.createElement(a.Fragment,null,"Not connected")))}}]),t}(a.PureComponent),Pa=Object(u.a)(function(){return{layout:{backgroundColor:"#191922",width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"stretch"},header:{backgroundColor:"#121216"},body:{position:"relative",display:"flex",justifyContent:"center",alignItems:"center",flexGrow:1},footer:{backgroundColor:"#121216",height:25}}})(Ma),La=function(e){function t(){return Object(Ue.a)(this,t),Object(ze.a)(this,Object(We.a)(t).apply(this,arguments))}return Object(Ke.a)(t,e),Object(Fe.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(h.a,{className:e.body})}}]),t}(a.PureComponent),Ya=(Object(u.a)(function(){return{body:{}}})(La),wa={},Object(tn.a)(wa,"ROOM_STATUS_WAITING",function(){return"We need more players (2 minimum)"}),Object(tn.a)(wa,"ROOM_STATUS_PAINTER_SELECTING",function(e){var t=e.countdown;return"Painter is being selected in ".concat(t," (random)")}),Object(tn.a)(wa,"ROOM_STATUS_WORD_SELECTING",function(e){var t=e.painter;return"Painter ".concat(t.nickname," is selecting a word")}),Object(tn.a)(wa,"ROOM_STATUS_DRAWING",function(e){var t=e.painter;return"".concat(t.nickname," is drawing")}),Object(tn.a)(wa,"ROOM_STATUS_GAME_FINISHED",function(e){var t=e.winner;return"The game is over. ".concat(t.nickname," wins")}),wa),Ua=function(e){function t(){var e,n;Object(Ue.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(ze.a)(this,(e=Object(We.a)(t)).call.apply(e,[this].concat(r)))).handleLeave=function(){var e=n.props,t=e.socket,a=e.resetRoom;!function(e){e.emit(sn)}(t),a()},n.generateStatus=function(){if(n.props.room){var e=n.props.room,t=e.status,a=e.countdown,r=e.winner,o=e.painter;return Ya[t]({countdown:a,winner:r,painter:o})}},n}return Object(Ke.a)(t,e),Object(Fe.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.room;return r.a.createElement(Se.a,null,r.a.createElement(me.a,{className:t.room,variant:"h6"},n&&n.roomName),r.a.createElement(me.a,{className:t.status,variant:"caption"},this.generateStatus()),n&&r.a.createElement(Qe.a,{variant:"outlined",color:"secondary",size:"small",onClick:this.handleLeave},"Leave"))}}]),t}(a.PureComponent),Fa=Object(M.b)(function(e){return{socket:e.socket,room:e.room}},function(e){return{resetRoom:function(){return e(Tn(null))}}})(Object(u.a)(function(e){return{appBar:{},room:{marginRight:e.spacing(2)},status:{flexGrow:1}}})(Ua)),za=function(e){function t(){return Object(Ue.a)(this,t),Object(ze.a)(this,Object(We.a)(t).apply(this,arguments))}return Object(Ke.a)(t,e),Object(Fe.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(h.a,{className:e.footer})}}]),t}(a.PureComponent),Wa=(Object(u.a)(function(){return{footer:{}}})(za),"INIT");var Ka="STOP";var _a="https://lawsaw-crocodile.herokuapp.com/",Ja=function(e){function t(e){var n;return Object(Ue.a)(this,t),(n=Object(ze.a)(this,Object(We.a)(t).call(this,e))).initSocket=function(){var e=n.props.initSocket;n.socket=wt()(_a),n.socket.on("connect",n.socketOnConnect),n.socket.on("disconnect",n.socketOnDisconnect),n.socket.on(An,n.socketOnMessage),n.socket.on(ln,n.socketOnRoomJoin),n.socket.on(sn,n.socketOnRoomLeave),e(n.socket)},n.stopSocket=function(){var e=n.props.initSocket;n.socket.off(An,n.socketOnMessage),n.socket.off(ln,n.socketOnRoomJoin),n.socket.off(sn,n.socketOnRoomLeave),n.socket=null,e(n.socket)},n.socketOnRoomJoin=function(){n.setState(function(){return{isLobby:!1}})},n.socketOnRoomLeave=function(){n.setState(function(){return{isLobby:!0}})},n.socketOnConnect=function(){n.setState(function(){return{isConnected:!0}})},n.socketOnDisconnect=function(){var e=n.props.resetRoom;n.setState(function(){return{isConnected:!1,isLobby:!0}}),e()},n.socketOnMessage=function(e){var t=e.message_type,a=e.message;(0,n.props.enqueueSnackbar)(a,{variant:t,autoHideDuration:1500})},n.socket=null,n.state={isConnected:!1,isLobby:!0},n}return Object(Ke.a)(t,e),Object(Fe.a)(t,[{key:"componentDidMount",value:function(){this.initSocket()}},{key:"componentWillUnmount",value:function(){this.stopSocket()}},{key:"render",value:function(){var e=this.state,t=e.isConnected,n=e.isLobby;return r.a.createElement(a.Fragment,null,r.a.createElement(Pa,{isConnected:t,isLobby:n}))}}]),t}(a.PureComponent),Va=Object(M.b)(null,function(e){return{initSocket:function(t){e(function(e){return{type:Wa,payload:e}}(t))},resetRoom:function(){return e(Tn(null))}}})(Object(_e.withSnackbar)(Ja)),qa=n(115),Za=Object(qa.a)({palette:{type:"dark"}}),Xa=null;var $a=null;var er=Object(L.b)({socket:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xa,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case Wa:return e=n.payload;case Ka:return e;default:return t}},room:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$a,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Gn:return JSON.parse(JSON.stringify(e)),t.payload;default:return e}}}),tr=Object(L.c)(er),nr=function(e){function t(){return Object(Ue.a)(this,t),Object(ze.a)(this,Object(We.a)(t).apply(this,arguments))}return Object(Ke.a)(t,e),Object(Fe.a)(t,[{key:"render",value:function(){return r.a.createElement(M.a,{store:tr},r.a.createElement(_e.SnackbarProvider,{maxSnack:3,anchorOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement(A.a,{theme:Za},r.a.createElement(g.a,null),r.a.createElement(Va,null))))}}]),t}(a.PureComponent),ar=function(){return r.a.createElement(w,null)},rr=function(){return r.a.createElement(_,null)},or=function(){return r.a.createElement(de,null)},ir=function(){return r.a.createElement($e,null)},cr=function(){return r.a.createElement(nr,null)},lr=[{link:"/",label:"Home",page:function(e){return r.a.createElement(cr,e)}},{link:"/about",label:"About",page:function(e){return r.a.createElement(p,e)}},{link:"/test",label:"Test",page:function(e){return r.a.createElement(E,e)}},{link:"/clock",label:"Clock",page:function(e){return r.a.createElement(ar,e)}},{link:"/dashboard",label:"Dashboard",page:function(e){return r.a.createElement(rr,e)}},{link:"/todo-list",label:"Todo list",page:function(e){return r.a.createElement(or,e)}},{link:"/tetris",label:"Tetris",page:function(e){return r.a.createElement(ir,e)}},{link:"/crocodile",label:"Crocodile",page:function(e){return r.a.createElement(cr,e)}}],sr=(Object(u.a)(function(){return{root:{width:"100%",color:"green","&$disabled":{}},disabled:{}}})(Qe.a),Object(qa.a)({palette:{red:{50:"#f5e5e6",100:"#e6bfc1",200:"#d59497",300:"#c4696d",400:"#b8494e",500:"#ab292f",600:"#a4242a",700:"#9a1f23",800:"#91191d",900:"#800f12",A100:"#ffb3b4",A200:"#ff8082",A400:"#ff4d50",A700:"#ff3337",contrastDefaultColor:"light"},grey:{50:"#efeff0",100:"#d7d7d9",200:"#bcbdbf",300:"#a1a3a5",400:"#8d8f92",500:"#797b7f",600:"#717377",700:"#66686c",800:"#5c5e62",900:"#494b4f",A100:"#b8cef9",A200:"#89adf5",A400:"#4d88ff",A700:"#3377ff",contrastDefaultColor:"light"},gold:{50:"#fff5ea",100:"#ffe7cb",200:"#ffd7a9",300:"#ffc787",400:"#ffbb6d",500:"#ffaf53",600:"#ffa84c",700:"#ff9f42",800:"#ff9639",900:"#ff8629",A100:"#ffffff",A200:"#ffffff",A400:"#ffe7d6",A700:"#ffd8bd",contrastDefaultColor:"dark"},blue:{50:"#e6e6e8",100:"#c2c2c6",200:"#9999a0",300:"#70707a",400:"#51515e",500:"#323241",600:"#2d2d3b",700:"#262632",800:"#1f1f2a",900:"#13131c",A100:"#6262ff",A200:"#2f2fff",A400:"#0000fb",A700:"#0000e1",contrastDefaultColor:"light"},green:{50:"#e0f0e0",100:"#b3d9b3",200:"#80c080",300:"#4da74d",400:"#269426",500:"#008100",600:"#007900",700:"#006e00",800:"#006400",900:"#005100",A100:"#84ff84",A200:"#51ff51",A400:"#1eff1e",A700:"#04ff04",contrastDefaultColor:"light"}}})),ur=Object(u.a)(function(){return{mainContainer:{height:"100%"},mainGrid:{height:"100%"},sidebar:{backgroundColor:"#282c34"},work:{position:"relative",backgroundColor:"#fff",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",paddingLeft:"0 !important",paddingRight:"0 !important",paddingBottom:"0 !important"}}})(function(e){var t=e.classes;Object(s.a)(e,["classes"]);return r.a.createElement(a.Fragment,null,r.a.createElement(A.a,{theme:sr},r.a.createElement(g.a,null),r.a.createElement(c.a,null,r.a.createElement(d.a,{className:t.mainContainer},r.a.createElement(m.a,{container:!0,spacing:4,className:t.mainGrid},!1,r.a.createElement(m.a,{item:!0,xs:12,className:t.work},r.a.createElement(l.c,null,lr.map(function(e,t){var n=e.link,a=(e.label,e.page);return r.a.createElement(l.a,{key:t,exact:!0,path:n,component:a})}))))))))});var Ar=function(){return r.a.createElement(c.a,null,r.a.createElement(l.a,{component:ur}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(Ar,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[259,1,2]]]);
//# sourceMappingURL=main.89af687c.chunk.js.map